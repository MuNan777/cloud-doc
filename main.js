"use strict";var hp=Object.create;var Yo=Object.defineProperty;var pp=Object.getOwnPropertyDescriptor;var mp=Object.getOwnPropertyNames;var yp=Object.getPrototypeOf,gp=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of mp(e))!gp.call(t,s)&&s!==r&&Yo(t,s,{get:()=>e[s],enumerable:!(n=pp(e,s))||n.enumerable});return t};var ti=(t,e,r)=>(r=t!=null?hp(yp(t)):{},vp(e||!t||!t.__esModule?Yo(r,"default",{value:t,enumerable:!0}):r,t));var Zo=y((Lw,Wo)=>{"use strict";var Jo=require("electron");if(typeof Jo=="string")throw new TypeError("Not running in an Electron environment!");var _p="ELECTRON_IS_DEV"in process.env,$p=Number.parseInt(process.env.ELECTRON_IS_DEV,10)===1;Wo.exports=_p?$p:!Jo.app.isPackaged});var sc=y((Vw,nc)=>{"use strict";nc.exports=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")}});var ac=y((zw,ic)=>{"use strict";var Xt=sc(),Ep=new Set(["__proto__","prototype","constructor"]),wp=t=>!t.some(e=>Ep.has(e));function Bn(t){let e=t.split("."),r=[];for(let n=0;n<e.length;n++){let s=e[n];for(;s[s.length-1]==="\\"&&e[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=e[++n];r.push(s)}return wp(r)?r:[]}ic.exports={get(t,e,r){if(!Xt(t)||typeof e!="string")return r===void 0?t:r;let n=Bn(e);if(n.length!==0){for(let s=0;s<n.length;s++)if(t=t[n[s]],t==null){if(s!==n.length-1)return r;break}return t===void 0?r:t}},set(t,e,r){if(!Xt(t)||typeof e!="string")return t;let n=t,s=Bn(e);for(let i=0;i<s.length;i++){let a=s[i];Xt(t[a])||(t[a]={}),i===s.length-1&&(t[a]=r),t=t[a]}return n},delete(t,e){if(!Xt(t)||typeof e!="string")return!1;let r=Bn(e);for(let n=0;n<r.length;n++){let s=r[n];if(n===r.length-1)return delete t[s],!0;if(t=t[s],!Xt(t))return!1}},has(t,e){if(!Xt(t)||typeof e!="string")return!1;let r=Bn(e);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Xt(t)){if(!(r[n]in t))return!1;t=t[r[n]]}else return!1;return!0}}});var cc=y((Gw,ri)=>{"use strict";var oc=require("fs");ri.exports=t=>new Promise(e=>{oc.access(t,r=>{e(!r)})});ri.exports.sync=t=>{try{return oc.accessSync(t),!0}catch{return!1}}});var lc=y((Hw,ni)=>{"use strict";var uc=(t,...e)=>new Promise(r=>{r(t(...e))});ni.exports=uc;ni.exports.default=uc});var dc=y((Kw,si)=>{"use strict";var Sp=lc(),fc=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let e=[],r=0,n=()=>{r--,e.length>0&&e.shift()()},s=(o,c,...f)=>{r++;let h=Sp(o,...f);c(h),h.then(n,n)},i=(o,c,...f)=>{r<t?s(o,c,...f):e.push(s.bind(null,o,c,...f))},a=(o,...c)=>new Promise(f=>i(o,f,...c));return Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),a};si.exports=fc;si.exports.default=fc});var mc=y((Xw,pc)=>{"use strict";var hc=dc(),Yn=class extends Error{constructor(e){super(),this.value=e}},Op=(t,e)=>Promise.resolve(t).then(e),bp=t=>Promise.all(t).then(e=>e[1]===!0&&Promise.reject(new Yn(e[0])));pc.exports=(t,e,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);let n=hc(r.concurrency),s=[...t].map(a=>[a,n(Op,a,e)]),i=hc(r.preserveOrder?1:1/0);return Promise.all(s.map(a=>i(bp,a))).then(()=>{}).catch(a=>a instanceof Yn?a.value:Promise.reject(a))}});var vc=y((Bw,ii)=>{"use strict";var yc=require("path"),gc=cc(),Rp=mc();ii.exports=(t,e)=>(e=Object.assign({cwd:process.cwd()},e),Rp(t,r=>gc(yc.resolve(e.cwd,r)),e));ii.exports.sync=(t,e)=>{e=Object.assign({cwd:process.cwd()},e);for(let r of t)if(gc.sync(yc.resolve(e.cwd,r)))return r}});var $c=y((Yw,ai)=>{"use strict";var Nt=require("path"),_c=vc();ai.exports=(t,e={})=>{let r=Nt.resolve(e.cwd||""),{root:n}=Nt.parse(r),s=[].concat(t);return new Promise(i=>{(function a(o){_c(s,{cwd:o}).then(c=>{c?i(Nt.join(o,c)):o===n?i(null):a(Nt.dirname(o))})})(r)})};ai.exports.sync=(t,e={})=>{let r=Nt.resolve(e.cwd||""),{root:n}=Nt.parse(r),s=[].concat(t);for(;;){let i=_c.sync(s,{cwd:r});if(i)return Nt.join(r,i);if(r===n)return null;r=Nt.dirname(r)}}});var wc=y((Jw,oi)=>{"use strict";var Ec=$c();oi.exports=async({cwd:t}={})=>Ec("package.json",{cwd:t});oi.exports.sync=({cwd:t}={})=>Ec.sync("package.json",{cwd:t})});var bc=y((Ww,ui)=>{"use strict";var oe=require("path"),Sc=require("os"),It=Sc.homedir(),ci=Sc.tmpdir(),{env:Er}=process,Tp=t=>{let e=oe.join(It,"Library");return{data:oe.join(e,"Application Support",t),config:oe.join(e,"Preferences",t),cache:oe.join(e,"Caches",t),log:oe.join(e,"Logs",t),temp:oe.join(ci,t)}},Np=t=>{let e=Er.APPDATA||oe.join(It,"AppData","Roaming"),r=Er.LOCALAPPDATA||oe.join(It,"AppData","Local");return{data:oe.join(r,t,"Data"),config:oe.join(e,t,"Config"),cache:oe.join(r,t,"Cache"),log:oe.join(r,t,"Log"),temp:oe.join(ci,t)}},Ip=t=>{let e=oe.basename(It);return{data:oe.join(Er.XDG_DATA_HOME||oe.join(It,".local","share"),t),config:oe.join(Er.XDG_CONFIG_HOME||oe.join(It,".config"),t),cache:oe.join(Er.XDG_CACHE_HOME||oe.join(It,".cache"),t),log:oe.join(Er.XDG_STATE_HOME||oe.join(It,".local","state"),t),temp:oe.join(ci,e,t)}},Oc=(t,e)=>{if(typeof t!="string")throw new TypeError(`Expected string, got ${typeof t}`);return e=Object.assign({suffix:"nodejs"},e),e.suffix&&(t+=`-${e.suffix}`),process.platform==="darwin"?Tp(t):process.platform==="win32"?Np(t):Ip(t)};ui.exports=Oc;ui.exports.default=Oc});var wr=y(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.NOOP=ee.LIMIT_FILES_DESCRIPTORS=ee.LIMIT_BASENAME_LENGTH=ee.IS_USER_ROOT=ee.IS_POSIX=ee.DEFAULT_TIMEOUT_SYNC=ee.DEFAULT_TIMEOUT_ASYNC=ee.DEFAULT_WRITE_OPTIONS=ee.DEFAULT_READ_OPTIONS=ee.DEFAULT_FOLDER_MODE=ee.DEFAULT_FILE_MODE=ee.DEFAULT_ENCODING=void 0;var Pp="utf8";ee.DEFAULT_ENCODING=Pp;var Ap=438;ee.DEFAULT_FILE_MODE=Ap;var qp=511;ee.DEFAULT_FOLDER_MODE=qp;var Cp={};ee.DEFAULT_READ_OPTIONS=Cp;var Dp={};ee.DEFAULT_WRITE_OPTIONS=Dp;var jp=5e3;ee.DEFAULT_TIMEOUT_ASYNC=jp;var Lp=100;ee.DEFAULT_TIMEOUT_SYNC=Lp;var Mp=!!process.getuid;ee.IS_POSIX=Mp;var Fp=process.getuid?!process.getuid():!1;ee.IS_USER_ROOT=Fp;var kp=128;ee.LIMIT_BASENAME_LENGTH=kp;var xp=1e4;ee.LIMIT_FILES_DESCRIPTORS=xp;var Up=()=>{};ee.NOOP=Up});var Tc=y(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.attemptifySync=Sr.attemptifyAsync=void 0;var Rc=wr(),Vp=(t,e=Rc.NOOP)=>function(){return t.apply(void 0,arguments).catch(e)};Sr.attemptifyAsync=Vp;var zp=(t,e=Rc.NOOP)=>function(){try{return t.apply(void 0,arguments)}catch(r){return e(r)}};Sr.attemptifySync=zp});var Ic=y(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});var Gp=wr(),Nc={isChangeErrorOk:t=>{let{code:e}=t;return e==="ENOSYS"||!Gp.IS_USER_ROOT&&(e==="EINVAL"||e==="EPERM")},isRetriableError:t=>{let{code:e}=t;return e==="EMFILE"||e==="ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!Nc.isChangeErrorOk(t))throw t}};li.default=Nc});var Pc=y(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});var Hp=wr(),te={interval:25,intervalId:void 0,limit:Hp.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{te.intervalId||(te.intervalId=setInterval(te.tick,te.interval))},reset:()=>{te.intervalId&&(clearInterval(te.intervalId),delete te.intervalId)},add:t=>{te.queueWaiting.add(t),te.queueActive.size<te.limit/2?te.tick():te.init()},remove:t=>{te.queueWaiting.delete(t),te.queueActive.delete(t)},schedule:()=>new Promise(t=>{let e=()=>te.remove(r),r=()=>t(e);te.add(r)}),tick:()=>{if(!(te.queueActive.size>=te.limit)){if(!te.queueWaiting.size)return te.reset();for(let t of te.queueWaiting){if(te.queueActive.size>=te.limit)break;te.queueWaiting.delete(t),te.queueActive.add(t),t()}}}};fi.default=te});var Ac=y(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.retryifySync=Or.retryifyAsync=void 0;var Kp=Pc(),Xp=(t,e)=>function(r){return function n(){return Kp.default.schedule().then(s=>t.apply(void 0,arguments).then(i=>(s(),i),i=>{if(s(),Date.now()>=r)throw i;if(e(i)){let a=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,a)).then(()=>n.apply(void 0,arguments))}throw i}))}};Or.retryifyAsync=Xp;var Bp=(t,e)=>function(r){return function n(){try{return t.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(e(s))return n.apply(void 0,arguments);throw s}}};Or.retryifySync=Bp});var hi=y(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Y=require("fs"),Se=require("util"),Oe=Tc(),he=Ic(),Pe=Ac(),Yp={chmodAttempt:Oe.attemptifyAsync(Se.promisify(Y.chmod),he.default.onChangeError),chownAttempt:Oe.attemptifyAsync(Se.promisify(Y.chown),he.default.onChangeError),closeAttempt:Oe.attemptifyAsync(Se.promisify(Y.close)),fsyncAttempt:Oe.attemptifyAsync(Se.promisify(Y.fsync)),mkdirAttempt:Oe.attemptifyAsync(Se.promisify(Y.mkdir)),realpathAttempt:Oe.attemptifyAsync(Se.promisify(Y.realpath)),statAttempt:Oe.attemptifyAsync(Se.promisify(Y.stat)),unlinkAttempt:Oe.attemptifyAsync(Se.promisify(Y.unlink)),closeRetry:Pe.retryifyAsync(Se.promisify(Y.close),he.default.isRetriableError),fsyncRetry:Pe.retryifyAsync(Se.promisify(Y.fsync),he.default.isRetriableError),openRetry:Pe.retryifyAsync(Se.promisify(Y.open),he.default.isRetriableError),readFileRetry:Pe.retryifyAsync(Se.promisify(Y.readFile),he.default.isRetriableError),renameRetry:Pe.retryifyAsync(Se.promisify(Y.rename),he.default.isRetriableError),statRetry:Pe.retryifyAsync(Se.promisify(Y.stat),he.default.isRetriableError),writeRetry:Pe.retryifyAsync(Se.promisify(Y.write),he.default.isRetriableError),chmodSyncAttempt:Oe.attemptifySync(Y.chmodSync,he.default.onChangeError),chownSyncAttempt:Oe.attemptifySync(Y.chownSync,he.default.onChangeError),closeSyncAttempt:Oe.attemptifySync(Y.closeSync),mkdirSyncAttempt:Oe.attemptifySync(Y.mkdirSync),realpathSyncAttempt:Oe.attemptifySync(Y.realpathSync),statSyncAttempt:Oe.attemptifySync(Y.statSync),unlinkSyncAttempt:Oe.attemptifySync(Y.unlinkSync),closeSyncRetry:Pe.retryifySync(Y.closeSync,he.default.isRetriableError),fsyncSyncRetry:Pe.retryifySync(Y.fsyncSync,he.default.isRetriableError),openSyncRetry:Pe.retryifySync(Y.openSync,he.default.isRetriableError),readFileSyncRetry:Pe.retryifySync(Y.readFileSync,he.default.isRetriableError),renameSyncRetry:Pe.retryifySync(Y.renameSync,he.default.isRetriableError),statSyncRetry:Pe.retryifySync(Y.statSync,he.default.isRetriableError),writeSyncRetry:Pe.retryifySync(Y.writeSync,he.default.isRetriableError)};di.default=Yp});var qc=y(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var Jp={isFunction:t=>typeof t=="function",isString:t=>typeof t=="string",isUndefined:t=>typeof t>"u"};pi.default=Jp});var Cc=y(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var Jn={},mi={next:t=>{let e=Jn[t];if(!e)return;e.shift();let r=e[0];r?r(()=>mi.next(t)):delete Jn[t]},schedule:t=>new Promise(e=>{let r=Jn[t];r||(r=Jn[t]=[]),r.push(e),!(r.length>1)&&e(()=>mi.next(t))})};yi.default=mi});var Lc=y(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var Wp=require("path"),Dc=wr(),jc=hi(),Me={store:{},create:t=>{let e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${e}`;return`${t}${s}`},get:(t,e,r=!0)=>{let n=Me.truncate(e(t));return n in Me.store?Me.get(t,e,r):(Me.store[n]=r,[n,()=>delete Me.store[n]])},purge:t=>{Me.store[t]&&(delete Me.store[t],jc.default.unlinkAttempt(t))},purgeSync:t=>{Me.store[t]&&(delete Me.store[t],jc.default.unlinkSyncAttempt(t))},purgeSyncAll:()=>{for(let t in Me.store)Me.purgeSync(t)},truncate:t=>{let e=Wp.basename(t);if(e.length<=Dc.LIMIT_BASENAME_LENGTH)return t;let r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!r)return t;let n=e.length-Dc.LIMIT_BASENAME_LENGTH;return`${t.slice(0,-e.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Me.purgeSyncAll);gi.default=Me});var zc=y(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.writeFileSync=lt.writeFile=lt.readFileSync=lt.readFile=void 0;var Mc=require("path"),me=wr(),X=hi(),Fe=qc(),Zp=Cc(),Pt=Lc();function Fc(t,e=me.DEFAULT_READ_OPTIONS){var r;if(Fe.default.isString(e))return Fc(t,{encoding:e});let n=Date.now()+((r=e.timeout)!==null&&r!==void 0?r:me.DEFAULT_TIMEOUT_ASYNC);return X.default.readFileRetry(n)(t,e)}lt.readFile=Fc;function kc(t,e=me.DEFAULT_READ_OPTIONS){var r;if(Fe.default.isString(e))return kc(t,{encoding:e});let n=Date.now()+((r=e.timeout)!==null&&r!==void 0?r:me.DEFAULT_TIMEOUT_SYNC);return X.default.readFileSyncRetry(n)(t,e)}lt.readFileSync=kc;var xc=(t,e,r,n)=>{if(Fe.default.isFunction(r))return xc(t,e,me.DEFAULT_WRITE_OPTIONS,r);let s=Uc(t,e,r);return n&&s.then(n,n),s};lt.writeFile=xc;var Uc=async(t,e,r=me.DEFAULT_WRITE_OPTIONS)=>{var n;if(Fe.default.isString(r))return Uc(t,e,{encoding:r});let s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:me.DEFAULT_TIMEOUT_ASYNC),i=null,a=null,o=null,c=null,f=null;try{r.schedule&&(i=await r.schedule(t)),a=await Zp.default.schedule(t),t=await X.default.realpathAttempt(t)||t,[c,o]=Pt.default.get(t,r.tmpCreate||Pt.default.create,r.tmpPurge!==!1);let h=me.IS_POSIX&&Fe.default.isUndefined(r.chown),d=Fe.default.isUndefined(r.mode);if(h||d){let m=await X.default.statAttempt(t);m&&(r={...r},h&&(r.chown={uid:m.uid,gid:m.gid}),d&&(r.mode=m.mode))}let _=Mc.dirname(t);await X.default.mkdirAttempt(_,{mode:me.DEFAULT_FOLDER_MODE,recursive:!0}),f=await X.default.openRetry(s)(c,"w",r.mode||me.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),Fe.default.isString(e)?await X.default.writeRetry(s)(f,e,0,r.encoding||me.DEFAULT_ENCODING):Fe.default.isUndefined(e)||await X.default.writeRetry(s)(f,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await X.default.fsyncRetry(s)(f):X.default.fsyncAttempt(f)),await X.default.closeRetry(s)(f),f=null,r.chown&&await X.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await X.default.chmodAttempt(c,r.mode);try{await X.default.renameRetry(s)(c,t)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;await X.default.renameRetry(s)(c,Pt.default.truncate(t))}o(),c=null}finally{f&&await X.default.closeAttempt(f),c&&Pt.default.purge(c),i&&i(),a&&a()}},Vc=(t,e,r=me.DEFAULT_WRITE_OPTIONS)=>{var n;if(Fe.default.isString(r))return Vc(t,e,{encoding:r});let s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:me.DEFAULT_TIMEOUT_SYNC),i=null,a=null,o=null;try{t=X.default.realpathSyncAttempt(t)||t,[a,i]=Pt.default.get(t,r.tmpCreate||Pt.default.create,r.tmpPurge!==!1);let c=me.IS_POSIX&&Fe.default.isUndefined(r.chown),f=Fe.default.isUndefined(r.mode);if(c||f){let d=X.default.statSyncAttempt(t);d&&(r={...r},c&&(r.chown={uid:d.uid,gid:d.gid}),f&&(r.mode=d.mode))}let h=Mc.dirname(t);X.default.mkdirSyncAttempt(h,{mode:me.DEFAULT_FOLDER_MODE,recursive:!0}),o=X.default.openSyncRetry(s)(a,"w",r.mode||me.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(a),Fe.default.isString(e)?X.default.writeSyncRetry(s)(o,e,0,r.encoding||me.DEFAULT_ENCODING):Fe.default.isUndefined(e)||X.default.writeSyncRetry(s)(o,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?X.default.fsyncSyncRetry(s)(o):X.default.fsyncAttempt(o)),X.default.closeSyncRetry(s)(o),o=null,r.chown&&X.default.chownSyncAttempt(a,r.chown.uid,r.chown.gid),r.mode&&X.default.chmodSyncAttempt(a,r.mode);try{X.default.renameSyncRetry(s)(a,t)}catch(d){if(d.code!=="ENAMETOOLONG")throw d;X.default.renameSyncRetry(s)(a,Pt.default.truncate(t))}i(),a=null}finally{o&&X.default.closeSyncAttempt(o),a&&Pt.default.purge(a)}};lt.writeFileSync=Vc});var nn=y(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.regexpCode=V.getEsmExportName=V.getProperty=V.safeStringify=V.stringify=V.strConcat=V.addCodeArg=V.str=V._=V.nil=V._Code=V.Name=V.IDENTIFIER=V._CodeOrName=void 0;var tn=class{};V._CodeOrName=tn;V.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Bt=class extends tn{constructor(e){if(super(),!V.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};V.Name=Bt;var Ge=class extends tn{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof Bt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};V._Code=Ge;V.nil=new Ge("");function Gc(t,...e){let r=[t[0]],n=0;for(;n<e.length;)_i(r,e[n]),r.push(t[++n]);return new Ge(r)}V._=Gc;var vi=new Ge("+");function Hc(t,...e){let r=[rn(t[0])],n=0;for(;n<e.length;)r.push(vi),_i(r,e[n]),r.push(vi,rn(t[++n]));return Qp(r),new Ge(r)}V.str=Hc;function _i(t,e){e instanceof Ge?t.push(...e._items):e instanceof Bt?t.push(e):t.push(rm(e))}V.addCodeArg=_i;function Qp(t){let e=1;for(;e<t.length-1;){if(t[e]===vi){let r=em(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function em(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Bt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Bt))return`"${t}${e.slice(1)}`}function tm(t,e){return e.emptyStr()?t:t.emptyStr()?e:Hc`${t}${e}`}V.strConcat=tm;function rm(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:rn(Array.isArray(t)?t.join(","):t)}function nm(t){return new Ge(rn(t))}V.stringify=nm;function rn(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}V.safeStringify=rn;function sm(t){return typeof t=="string"&&V.IDENTIFIER.test(t)?new Ge(`.${t}`):Gc`[${t}]`}V.getProperty=sm;function im(t){if(typeof t=="string"&&V.IDENTIFIER.test(t))return new Ge(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}V.getEsmExportName=im;function am(t){return new Ge(t.toString())}V.regexpCode=am});var Si=y(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.ValueScope=be.ValueScopeName=be.Scope=be.varKinds=be.UsedValueState=void 0;var Ae=nn(),$i=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ei;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ei=be.UsedValueState||(be.UsedValueState={}));be.varKinds={const:new Ae.Name("const"),let:new Ae.Name("let"),var:new Ae.Name("var")};var Wn=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Ae.Name?e:this.name(e)}name(e){return new Ae.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};be.Scope=Wn;var Zn=class extends Ae.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,Ae._)`.${new Ae.Name(r)}[${n}]`}};be.ValueScopeName=Zn;var om=(0,Ae._)`\n`,wi=class extends Wn{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?om:Ae.nil}}get(){return this._scope}name(e){return new Zn(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:i}=s,a=(n=r.key)!==null&&n!==void 0?n:r.ref,o=this._values[i];if(o){let h=o.get(a);if(h)return h}else o=this._values[i]=new Map;o.set(a,s);let c=this._scope[i]||(this._scope[i]=[]),f=c.length;return c[f]=r.ref,s.setValue(r,{property:i,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Ae._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let i=Ae.nil;for(let a in e){let o=e[a];if(!o)continue;let c=n[a]=n[a]||new Map;o.forEach(f=>{if(c.has(f))return;c.set(f,Ei.Started);let h=r(f);if(h){let d=this.opts.es5?be.varKinds.var:be.varKinds.const;i=(0,Ae._)`${i}${d} ${f} = ${h};${this.opts._n}`}else if(h=s==null?void 0:s(f))i=(0,Ae._)`${i}${h}${this.opts._n}`;else throw new $i(f);c.set(f,Ei.Completed)})}return i}};be.ValueScope=wi});var q=y(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;var F=nn(),We=Si(),At=nn();Object.defineProperty(j,"_",{enumerable:!0,get:function(){return At._}});Object.defineProperty(j,"str",{enumerable:!0,get:function(){return At.str}});Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return At.strConcat}});Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return At.nil}});Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return At.getProperty}});Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return At.stringify}});Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return At.regexpCode}});Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return At.Name}});var rs=Si();Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return rs.Scope}});Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return rs.ValueScope}});Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return rs.ValueScopeName}});Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return rs.varKinds}});j.operators={GT:new F._Code(">"),GTE:new F._Code(">="),LT:new F._Code("<"),LTE:new F._Code("<="),EQ:new F._Code("==="),NEQ:new F._Code("!=="),NOT:new F._Code("!"),OR:new F._Code("||"),AND:new F._Code("&&"),ADD:new F._Code("+")};var Et=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Oi=class extends Et{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?We.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Rr(this.rhs,e,r)),this}get names(){return this.rhs instanceof F._CodeOrName?this.rhs.names:{}}},Qn=class extends Et{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof F.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Rr(this.rhs,e,r),this}get names(){let e=this.lhs instanceof F.Name?{}:{...this.lhs.names};return ts(e,this.rhs)}},bi=class extends Qn{constructor(e,r,n,s){super(e,n,s),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Ri=class extends Et{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Ti=class extends Et{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Ni=class extends Et{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Ii=class extends Et{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Rr(this.code,e,r),this}get names(){return this.code instanceof F._CodeOrName?this.code.names:{}}},sn=class extends Et{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(e,r)||(cm(e,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Jt(e,r.names),{})}},wt=class extends sn{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Pi=class extends sn{},br=class extends wt{};br.kind="else";var Ze=class extends wt{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new br(n):n}if(r)return e===!1?r instanceof Ze?r:r.nodes:this.nodes.length?this:new Ze(Kc(e),r instanceof Ze?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Rr(this.condition,e,r),this}get names(){let e=super.names;return ts(e,this.condition),this.else&&Jt(e,this.else.names),e}};Ze.kind="if";var Yt=class extends wt{};Yt.kind="for";var Ai=class extends Yt{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Rr(this.iteration,e,r),this}get names(){return Jt(super.names,this.iteration.names)}},qi=class extends Yt{constructor(e,r,n,s){super(),this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?We.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){let e=ts(super.names,this.from);return ts(e,this.to)}},es=class extends Yt{constructor(e,r,n,s){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Rr(this.iterable,e,r),this}get names(){return Jt(super.names,this.iterable.names)}},an=class extends wt{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};an.kind="func";var on=class extends sn{render(e){return"return "+super.render(e)}};on.kind="return";var Ci=class extends wt{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Jt(e,this.catch.names),this.finally&&Jt(e,this.finally.names),e}},cn=class extends wt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};cn.kind="catch";var un=class extends wt{render(e){return"finally"+super.render(e)}};un.kind="finally";var Di=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new We.Scope({parent:e}),this._nodes=[new Pi]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new Oi(e,i,n)),i}const(e,r,n){return this._def(We.varKinds.const,e,r,n)}let(e,r,n){return this._def(We.varKinds.let,e,r,n)}var(e,r,n){return this._def(We.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Qn(e,r,n))}add(e,r){return this._leafNode(new bi(e,j.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==F.nil&&this._leafNode(new Ii(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,F.addCodeArg)(r,s));return r.push("}"),new F._Code(r)}if(e,r,n){if(this._blockNode(new Ze(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ze(e))}else(){return this._elseNode(new br)}endIf(){return this._endBlockNode(Ze,br)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Ai(e),r)}forRange(e,r,n,s,i=this.opts.es5?We.varKinds.var:We.varKinds.let){let a=this._scope.toName(e);return this._for(new qi(i,a,r,n),()=>s(a))}forOf(e,r,n,s=We.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let a=r instanceof F.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,F._)`${a}.length`,o=>{this.var(i,(0,F._)`${a}[${o}]`),n(i)})}return this._for(new es("of",s,i,r),()=>n(i))}forIn(e,r,n,s=this.opts.es5?We.varKinds.var:We.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,F._)`Object.keys(${r})`,n);let i=this._scope.toName(e);return this._for(new es("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(Yt)}label(e){return this._leafNode(new Ri(e))}break(e){return this._leafNode(new Ti(e))}return(e){let r=new on;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(on)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new Ci;if(this._blockNode(s),this.code(e),r){let i=this.name("e");this._currNode=s.catch=new cn(i),r(i)}return n&&(this._currNode=s.finally=new un,this.code(n)),this._endBlockNode(cn,un)}throw(e){return this._leafNode(new Ni(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=F.nil,n,s){return this._blockNode(new an(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(an)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ze))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};j.CodeGen=Di;function Jt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function ts(t,e){return e instanceof F._CodeOrName?Jt(t,e.names):t}function Rr(t,e,r){if(t instanceof F.Name)return n(t);if(!s(t))return t;return new F._Code(t._items.reduce((i,a)=>(a instanceof F.Name&&(a=n(a)),a instanceof F._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=r[i.str];return a===void 0||e[i.str]!==1?i:(delete e[i.str],a)}function s(i){return i instanceof F._Code&&i._items.some(a=>a instanceof F.Name&&e[a.str]===1&&r[a.str]!==void 0)}}function cm(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Kc(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,F._)`!${ji(t)}`}j.not=Kc;var um=Xc(j.operators.AND);function lm(...t){return t.reduce(um)}j.and=lm;var fm=Xc(j.operators.OR);function dm(...t){return t.reduce(fm)}j.or=dm;function Xc(t){return(e,r)=>e===F.nil?r:r===F.nil?e:(0,F._)`${ji(e)} ${t} ${ji(r)}`}function ji(t){return t instanceof F.Name?t:(0,F._)`(${t})`}});var z=y(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.checkStrictMode=L.getErrorPath=L.Type=L.useFunc=L.setEvaluated=L.evaluatedPropsToName=L.mergeEvaluated=L.eachItem=L.unescapeJsonPointer=L.escapeJsonPointer=L.escapeFragment=L.unescapeFragment=L.schemaRefOrVal=L.schemaHasRulesButRef=L.schemaHasRules=L.checkUnknownRules=L.alwaysValidSchema=L.toHash=void 0;var Q=q(),hm=nn();function pm(t){let e={};for(let r of t)e[r]=!0;return e}L.toHash=pm;function mm(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Jc(t,e),!Wc(e,t.self.RULES.all))}L.alwaysValidSchema=mm;function Jc(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let i in e)s[i]||tu(t,`unknown keyword: "${i}"`)}L.checkUnknownRules=Jc;function Wc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}L.schemaHasRules=Wc;function ym(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}L.schemaHasRulesButRef=ym;function gm({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Q._)`${r}`}return(0,Q._)`${t}${e}${(0,Q.getProperty)(n)}`}L.schemaRefOrVal=gm;function vm(t){return Zc(decodeURIComponent(t))}L.unescapeFragment=vm;function _m(t){return encodeURIComponent(Li(t))}L.escapeFragment=_m;function Li(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}L.escapeJsonPointer=Li;function Zc(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}L.unescapeJsonPointer=Zc;function $m(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}L.eachItem=$m;function Bc({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,i,a,o)=>{let c=a===void 0?i:a instanceof Q.Name?(i instanceof Q.Name?t(s,i,a):e(s,i,a),a):i instanceof Q.Name?(e(s,a,i),i):r(i,a);return o===Q.Name&&!(c instanceof Q.Name)?n(s,c):c}}L.mergeEvaluated={props:Bc({mergeNames:(t,e,r)=>t.if((0,Q._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Q._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Q._)`${r} || {}`).code((0,Q._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Q._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Q._)`${r} || {}`),Mi(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:Qc}),items:Bc({mergeNames:(t,e,r)=>t.if((0,Q._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Q._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Q._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Q._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Qc(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Q._)`{}`);return e!==void 0&&Mi(t,r,e),r}L.evaluatedPropsToName=Qc;function Mi(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Q._)`${e}${(0,Q.getProperty)(n)}`,!0))}L.setEvaluated=Mi;var Yc={};function Em(t,e){return t.scopeValue("func",{ref:e,code:Yc[e.code]||(Yc[e.code]=new hm._Code(e.code))})}L.useFunc=Em;var eu;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(eu=L.Type||(L.Type={}));function wm(t,e,r){if(t instanceof Q.Name){let n=e===eu.Num;return r?n?(0,Q._)`"[" + ${t} + "]"`:(0,Q._)`"['" + ${t} + "']"`:n?(0,Q._)`"/" + ${t}`:(0,Q._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Q.getProperty)(t).toString():"/"+Li(t)}L.getErrorPath=wm;function tu(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}L.checkStrictMode=tu});var St=y(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var $e=q(),Sm={data:new $e.Name("data"),valCxt:new $e.Name("valCxt"),instancePath:new $e.Name("instancePath"),parentData:new $e.Name("parentData"),parentDataProperty:new $e.Name("parentDataProperty"),rootData:new $e.Name("rootData"),dynamicAnchors:new $e.Name("dynamicAnchors"),vErrors:new $e.Name("vErrors"),errors:new $e.Name("errors"),this:new $e.Name("this"),self:new $e.Name("self"),scope:new $e.Name("scope"),json:new $e.Name("json"),jsonPos:new $e.Name("jsonPos"),jsonLen:new $e.Name("jsonLen"),jsonPart:new $e.Name("jsonPart")};Fi.default=Sm});var ln=y(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.extendErrors=Ee.resetErrorsCount=Ee.reportExtraError=Ee.reportError=Ee.keyword$DataError=Ee.keywordError=void 0;var x=q(),ns=z(),Re=St();Ee.keywordError={message:({keyword:t})=>(0,x.str)`must pass "${t}" keyword validation`};Ee.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,x.str)`"${t}" keyword must be ${e} ($data)`:(0,x.str)`"${t}" keyword is invalid ($data)`};function Om(t,e=Ee.keywordError,r,n){let{it:s}=t,{gen:i,compositeRule:a,allErrors:o}=s,c=su(t,e,r);n??(a||o)?ru(i,c):nu(s,(0,x._)`[${c}]`)}Ee.reportError=Om;function bm(t,e=Ee.keywordError,r){let{it:n}=t,{gen:s,compositeRule:i,allErrors:a}=n,o=su(t,e,r);ru(s,o),i||a||nu(n,Re.default.vErrors)}Ee.reportExtraError=bm;function Rm(t,e){t.assign(Re.default.errors,e),t.if((0,x._)`${Re.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,x._)`${Re.default.vErrors}.length`,e),()=>t.assign(Re.default.vErrors,null)))}Ee.resetErrorsCount=Rm;function Tm({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",s,Re.default.errors,o=>{t.const(a,(0,x._)`${Re.default.vErrors}[${o}]`),t.if((0,x._)`${a}.instancePath === undefined`,()=>t.assign((0,x._)`${a}.instancePath`,(0,x.strConcat)(Re.default.instancePath,i.errorPath))),t.assign((0,x._)`${a}.schemaPath`,(0,x.str)`${i.errSchemaPath}/${e}`),i.opts.verbose&&(t.assign((0,x._)`${a}.schema`,r),t.assign((0,x._)`${a}.data`,n))})}Ee.extendErrors=Tm;function ru(t,e){let r=t.const("err",e);t.if((0,x._)`${Re.default.vErrors} === null`,()=>t.assign(Re.default.vErrors,(0,x._)`[${r}]`),(0,x._)`${Re.default.vErrors}.push(${r})`),t.code((0,x._)`${Re.default.errors}++`)}function nu(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw((0,x._)`new ${t.ValidationError}(${e})`):(r.assign((0,x._)`${n}.errors`,e),r.return(!1))}var Wt={keyword:new x.Name("keyword"),schemaPath:new x.Name("schemaPath"),params:new x.Name("params"),propertyName:new x.Name("propertyName"),message:new x.Name("message"),schema:new x.Name("schema"),parentSchema:new x.Name("parentSchema")};function su(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,x._)`{}`:Nm(t,e,r)}function Nm(t,e,r={}){let{gen:n,it:s}=t,i=[Im(s,r),Pm(t,r)];return Am(t,e,i),n.object(...i)}function Im({errorPath:t},{instancePath:e}){let r=e?(0,x.str)`${t}${(0,ns.getErrorPath)(e,ns.Type.Str)}`:t;return[Re.default.instancePath,(0,x.strConcat)(Re.default.instancePath,r)]}function Pm({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:(0,x.str)`${e}/${t}`;return r&&(s=(0,x.str)`${s}${(0,ns.getErrorPath)(r,ns.Type.Str)}`),[Wt.schemaPath,s]}function Am(t,{params:e,message:r},n){let{keyword:s,data:i,schemaValue:a,it:o}=t,{opts:c,propertyName:f,topSchemaRef:h,schemaPath:d}=o;n.push([Wt.keyword,s],[Wt.params,typeof e=="function"?e(t):e||(0,x._)`{}`]),c.messages&&n.push([Wt.message,typeof r=="function"?r(t):r]),c.verbose&&n.push([Wt.schema,a],[Wt.parentSchema,(0,x._)`${h}${d}`],[Re.default.data,i]),f&&n.push([Wt.propertyName,f])}});var au=y(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.boolOrEmptySchema=Tr.topBoolOrEmptySchema=void 0;var qm=ln(),Cm=q(),Dm=St(),jm={message:"boolean schema is false"};function Lm(t){let{gen:e,schema:r,validateName:n}=t;r===!1?iu(t,!1):typeof r=="object"&&r.$async===!0?e.return(Dm.default.data):(e.assign((0,Cm._)`${n}.errors`,null),e.return(!0))}Tr.topBoolOrEmptySchema=Lm;function Mm(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),iu(t)):r.var(e,!0)}Tr.boolOrEmptySchema=Mm;function iu(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,qm.reportError)(s,jm,void 0,e)}});var ki=y(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getRules=Nr.isJSONType=void 0;var Fm=["string","number","integer","boolean","null","object","array"],km=new Set(Fm);function xm(t){return typeof t=="string"&&km.has(t)}Nr.isJSONType=xm;function Um(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Nr.getRules=Um});var xi=y(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.shouldUseRule=qt.shouldUseGroup=qt.schemaHasRulesForType=void 0;function Vm({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&ou(t,n)}qt.schemaHasRulesForType=Vm;function ou(t,e){return e.rules.some(r=>cu(t,r))}qt.shouldUseGroup=ou;function cu(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}qt.shouldUseRule=cu});var dn=y(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.reportTypeError=ye.checkDataTypes=ye.checkDataType=ye.coerceAndCheckDataType=ye.getJSONTypes=ye.getSchemaTypes=ye.DataType=void 0;var zm=ki(),Gm=xi(),Hm=ln(),A=q(),uu=z(),fn;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(fn=ye.DataType||(ye.DataType={}));function Km(t){let e=lu(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}ye.getSchemaTypes=Km;function lu(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(zm.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ye.getJSONTypes=lu;function Xm(t,e){let{gen:r,data:n,opts:s}=t,i=Bm(e,s.coerceTypes),a=e.length>0&&!(i.length===0&&e.length===1&&(0,Gm.schemaHasRulesForType)(t,e[0]));if(a){let o=Vi(e,n,s.strictNumbers,fn.Wrong);r.if(o,()=>{i.length?Ym(t,e,i):zi(t)})}return a}ye.coerceAndCheckDataType=Xm;var fu=new Set(["string","number","integer","boolean","null"]);function Bm(t,e){return e?t.filter(r=>fu.has(r)||e==="array"&&r==="array"):[]}function Ym(t,e,r){let{gen:n,data:s,opts:i}=t,a=n.let("dataType",(0,A._)`typeof ${s}`),o=n.let("coerced",(0,A._)`undefined`);i.coerceTypes==="array"&&n.if((0,A._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,A._)`${s}[0]`).assign(a,(0,A._)`typeof ${s}`).if(Vi(e,s,i.strictNumbers),()=>n.assign(o,s))),n.if((0,A._)`${o} !== undefined`);for(let f of r)(fu.has(f)||f==="array"&&i.coerceTypes==="array")&&c(f);n.else(),zi(t),n.endIf(),n.if((0,A._)`${o} !== undefined`,()=>{n.assign(s,o),Jm(t,o)});function c(f){switch(f){case"string":n.elseIf((0,A._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,A._)`"" + ${s}`).elseIf((0,A._)`${s} === null`).assign(o,(0,A._)`""`);return;case"number":n.elseIf((0,A._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,A._)`+${s}`);return;case"integer":n.elseIf((0,A._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,A._)`+${s}`);return;case"boolean":n.elseIf((0,A._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,A._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":n.elseIf((0,A._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(o,null);return;case"array":n.elseIf((0,A._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,A._)`[${s}]`)}}}function Jm({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,A._)`${e} !== undefined`,()=>t.assign((0,A._)`${e}[${r}]`,n))}function Ui(t,e,r,n=fn.Correct){let s=n===fn.Correct?A.operators.EQ:A.operators.NEQ,i;switch(t){case"null":return(0,A._)`${e} ${s} null`;case"array":i=(0,A._)`Array.isArray(${e})`;break;case"object":i=(0,A._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=a((0,A._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=a();break;default:return(0,A._)`typeof ${e} ${s} ${t}`}return n===fn.Correct?i:(0,A.not)(i);function a(o=A.nil){return(0,A.and)((0,A._)`typeof ${e} == "number"`,o,r?(0,A._)`isFinite(${e})`:A.nil)}}ye.checkDataType=Ui;function Vi(t,e,r,n){if(t.length===1)return Ui(t[0],e,r,n);let s,i=(0,uu.toHash)(t);if(i.array&&i.object){let a=(0,A._)`typeof ${e} != "object"`;s=i.null?a:(0,A._)`!${e} || ${a}`,delete i.null,delete i.array,delete i.object}else s=A.nil;i.number&&delete i.integer;for(let a in i)s=(0,A.and)(s,Ui(a,e,r,n));return s}ye.checkDataTypes=Vi;var Wm={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,A._)`{type: ${t}}`:(0,A._)`{type: ${e}}`};function zi(t){let e=Zm(t);(0,Hm.reportError)(e,Wm)}ye.reportTypeError=zi;function Zm(t){let{gen:e,data:r,schema:n}=t,s=(0,uu.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var hu=y(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.assignDefaults=void 0;var Ir=q(),Qm=z();function ey(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)du(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,i)=>du(t,i,s.default))}ss.assignDefaults=ey;function du(t,e,r){let{gen:n,compositeRule:s,data:i,opts:a}=t;if(r===void 0)return;let o=(0,Ir._)`${i}${(0,Ir.getProperty)(e)}`;if(s){(0,Qm.checkStrictMode)(t,`default is ignored for: ${o}`);return}let c=(0,Ir._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,Ir._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,Ir._)`${o} = ${(0,Ir.stringify)(r)}`)}});var He=y(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.validateUnion=W.validateArray=W.usePattern=W.callValidateCode=W.schemaProperties=W.allSchemaProperties=W.noPropertyInData=W.propertyInData=W.isOwnProperty=W.hasPropFunc=W.reportMissingProp=W.checkMissingProp=W.checkReportMissingProp=void 0;var re=q(),Gi=z(),Ct=St(),ty=z();function ry(t,e){let{gen:r,data:n,it:s}=t;r.if(Ki(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,re._)`${e}`},!0),t.error()})}W.checkReportMissingProp=ry;function ny({gen:t,data:e,it:{opts:r}},n,s){return(0,re.or)(...n.map(i=>(0,re.and)(Ki(t,e,i,r.ownProperties),(0,re._)`${s} = ${i}`)))}W.checkMissingProp=ny;function sy(t,e){t.setParams({missingProperty:e},!0),t.error()}W.reportMissingProp=sy;function pu(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,re._)`Object.prototype.hasOwnProperty`})}W.hasPropFunc=pu;function Hi(t,e,r){return(0,re._)`${pu(t)}.call(${e}, ${r})`}W.isOwnProperty=Hi;function iy(t,e,r,n){let s=(0,re._)`${e}${(0,re.getProperty)(r)} !== undefined`;return n?(0,re._)`${s} && ${Hi(t,e,r)}`:s}W.propertyInData=iy;function Ki(t,e,r,n){let s=(0,re._)`${e}${(0,re.getProperty)(r)} === undefined`;return n?(0,re.or)(s,(0,re.not)(Hi(t,e,r))):s}W.noPropertyInData=Ki;function mu(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}W.allSchemaProperties=mu;function ay(t,e){return mu(e).filter(r=>!(0,Gi.alwaysValidSchema)(t,e[r]))}W.schemaProperties=ay;function oy({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,c,f){let h=f?(0,re._)`${t}, ${e}, ${n}${s}`:e,d=[[Ct.default.instancePath,(0,re.strConcat)(Ct.default.instancePath,i)],[Ct.default.parentData,a.parentData],[Ct.default.parentDataProperty,a.parentDataProperty],[Ct.default.rootData,Ct.default.rootData]];a.opts.dynamicRef&&d.push([Ct.default.dynamicAnchors,Ct.default.dynamicAnchors]);let _=(0,re._)`${h}, ${r.object(...d)}`;return c!==re.nil?(0,re._)`${o}.call(${c}, ${_})`:(0,re._)`${o}(${_})`}W.callValidateCode=oy;var cy=(0,re._)`new RegExp`;function uy({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,i=s(r,n);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,re._)`${s.code==="new RegExp"?cy:(0,ty.useFunc)(t,s)}(${r}, ${n})`})}W.usePattern=uy;function ly(t){let{gen:e,data:r,keyword:n,it:s}=t,i=e.name("valid");if(s.allErrors){let o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(i,!0),a(()=>e.break()),i;function a(o){let c=e.const("len",(0,re._)`${r}.length`);e.forRange("i",0,c,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:Gi.Type.Num},i),e.if((0,re.not)(i),o)})}}W.validateArray=ly;function fy(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Gi.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let a=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((c,f)=>{let h=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},o);e.assign(a,(0,re._)`${a} || ${o}`),t.mergeValidEvaluated(h,o)||e.if((0,re.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}W.validateUnion=fy});var vu=y(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.validateKeywordUsage=ft.validSchemaType=ft.funcKeywordCode=ft.macroKeywordCode=void 0;var Te=q(),Zt=St(),dy=He(),hy=ln();function py(t,e){let{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=t,o=e.macro.call(a.self,s,i,a),c=gu(r,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let f=r.name("valid");t.subschema({schema:o,schemaPath:Te.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}ft.macroKeywordCode=py;function my(t,e){var r;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=t;gy(c,e);let f=!o&&e.compile?e.compile.call(c.self,i,a,c):e.validate,h=gu(n,s,f),d=n.let("valid");t.block$data(d,_),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function _(){if(e.errors===!1)E(),e.modifying&&yu(t),w(()=>t.error());else{let S=e.async?m():$();e.modifying&&yu(t),w(()=>yy(t,S))}}function m(){let S=n.let("ruleErrs",null);return n.try(()=>E((0,Te._)`await `),M=>n.assign(d,!1).if((0,Te._)`${M} instanceof ${c.ValidationError}`,()=>n.assign(S,(0,Te._)`${M}.errors`),()=>n.throw(M))),S}function $(){let S=(0,Te._)`${h}.errors`;return n.assign(S,null),E(Te.nil),S}function E(S=e.async?(0,Te._)`await `:Te.nil){let M=c.opts.passContext?Zt.default.this:Zt.default.self,D=!("compile"in e&&!o||e.schema===!1);n.assign(d,(0,Te._)`${S}${(0,dy.callValidateCode)(t,h,M,D)}`,e.modifying)}function w(S){var M;n.if((0,Te.not)((M=e.valid)!==null&&M!==void 0?M:d),S)}}ft.funcKeywordCode=my;function yu(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Te._)`${n.parentData}[${n.parentDataProperty}]`))}function yy(t,e){let{gen:r}=t;r.if((0,Te._)`Array.isArray(${e})`,()=>{r.assign(Zt.default.vErrors,(0,Te._)`${Zt.default.vErrors} === null ? ${e} : ${Zt.default.vErrors}.concat(${e})`).assign(Zt.default.errors,(0,Te._)`${Zt.default.vErrors}.length`),(0,hy.extendErrors)(t)},()=>t.error())}function gy({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function gu(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Te.stringify)(r)})}function vy(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}ft.validSchemaType=vy;function _y({schema:t,opts:e,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}ft.validateKeywordUsage=_y});var $u=y(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.extendSubschemaMode=Dt.extendSubschemaData=Dt.getSubschema=void 0;var dt=q(),_u=z();function $y(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,dt._)`${t.schemaPath}${(0,dt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,dt._)`${t.schemaPath}${(0,dt.getProperty)(e)}${(0,dt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,_u.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Dt.getSubschema=$y;function Ey(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=e;if(r!==void 0){let{errorPath:f,dataPathArr:h,opts:d}=e,_=o.let("data",(0,dt._)`${e.data}${(0,dt.getProperty)(r)}`,!0);c(_),t.errorPath=(0,dt.str)`${f}${(0,_u.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,dt._)`${r}`,t.dataPathArr=[...h,t.parentDataProperty]}if(s!==void 0){let f=s instanceof dt.Name?s:o.let("data",s,!0);c(f),a!==void 0&&(t.propertyName=a)}i&&(t.dataTypes=i);function c(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}Dt.extendSubschemaData=Ey;function wy(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}Dt.extendSubschemaMode=wy});var Xi=y((wS,Eu)=>{"use strict";Eu.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}});var Su=y((SS,wu)=>{"use strict";var jt=wu.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};is(e,n,s,t,"",t)};jt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};jt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};jt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};jt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function is(t,e,r,n,s,i,a,o,c,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,i,a,o,c,f);for(var h in n){var d=n[h];if(Array.isArray(d)){if(h in jt.arrayKeywords)for(var _=0;_<d.length;_++)is(t,e,r,d[_],s+"/"+h+"/"+_,i,s,h,n,_)}else if(h in jt.propsKeywords){if(d&&typeof d=="object")for(var m in d)is(t,e,r,d[m],s+"/"+h+"/"+Sy(m),i,s,h,n,m)}else(h in jt.keywords||t.allKeys&&!(h in jt.skipKeywords))&&is(t,e,r,d,s+"/"+h,i,s,h,n)}r(n,s,i,a,o,c,f)}}function Sy(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var hn=y(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.getSchemaRefs=qe.resolveUrl=qe.normalizeId=qe._getFullPath=qe.getFullPath=qe.inlineRef=void 0;var Oy=z(),by=Xi(),Ry=Su(),Ty=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ny(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Bi(t):e?Ou(t)<=e:!1}qe.inlineRef=Ny;var Iy=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Bi(t){for(let e in t){if(Iy.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Bi)||typeof r=="object"&&Bi(r))return!0}return!1}function Ou(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Ty.has(r)&&(typeof t[r]=="object"&&(0,Oy.eachItem)(t[r],n=>e+=Ou(n)),e===1/0))return 1/0}return e}function bu(t,e="",r){r!==!1&&(e=Pr(e));let n=t.parse(e);return Ru(t,n)}qe.getFullPath=bu;function Ru(t,e){return t.serialize(e).split("#")[0]+"#"}qe._getFullPath=Ru;var Py=/#\/?$/;function Pr(t){return t?t.replace(Py,""):""}qe.normalizeId=Pr;function Ay(t,e,r){return r=Pr(r),t.resolve(e,r)}qe.resolveUrl=Ay;var qy=/^[a-z_][-a-z0-9._]*$/i;function Cy(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=Pr(t[r]||e),i={"":s},a=bu(n,s,!1),o={},c=new Set;return Ry(t,{allKeys:!0},(d,_,m,$)=>{if($===void 0)return;let E=a+_,w=i[$];typeof d[r]=="string"&&(w=S.call(this,d[r])),M.call(this,d.$anchor),M.call(this,d.$dynamicAnchor),i[_]=w;function S(D){let B=this.opts.uriResolver.resolve;if(D=Pr(w?B(w,D):D),c.has(D))throw h(D);c.add(D);let N=this.refs[D];return typeof N=="string"&&(N=this.refs[N]),typeof N=="object"?f(d,N.schema,D):D!==Pr(E)&&(D[0]==="#"?(f(d,o[D],D),o[D]=d):this.refs[D]=E),D}function M(D){if(typeof D=="string"){if(!qy.test(D))throw new Error(`invalid anchor "${D}"`);S.call(this,`#${D}`)}}}),o;function f(d,_,m){if(_!==void 0&&!by(d,_))throw h(m)}function h(d){return new Error(`reference "${d}" resolves to more than one schema`)}}qe.getSchemaRefs=Cy});var yn=y(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getData=Lt.KeywordCxt=Lt.validateFunctionCode=void 0;var qu=au(),Tu=dn(),Ji=xi(),as=dn(),Dy=hu(),mn=vu(),Yi=$u(),T=q(),I=St(),jy=hn(),Ot=z(),pn=ln();function Ly(t){if(ju(t)&&(Lu(t),Du(t))){ky(t);return}Cu(t,()=>(0,qu.topBoolOrEmptySchema)(t))}Lt.validateFunctionCode=Ly;function Cu({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},i){s.code.es5?t.func(e,(0,T._)`${I.default.data}, ${I.default.valCxt}`,n.$async,()=>{t.code((0,T._)`"use strict"; ${Nu(r,s)}`),Fy(t,s),t.code(i)}):t.func(e,(0,T._)`${I.default.data}, ${My(s)}`,n.$async,()=>t.code(Nu(r,s)).code(i))}function My(t){return(0,T._)`{${I.default.instancePath}="", ${I.default.parentData}, ${I.default.parentDataProperty}, ${I.default.rootData}=${I.default.data}${t.dynamicRef?(0,T._)`, ${I.default.dynamicAnchors}={}`:T.nil}}={}`}function Fy(t,e){t.if(I.default.valCxt,()=>{t.var(I.default.instancePath,(0,T._)`${I.default.valCxt}.${I.default.instancePath}`),t.var(I.default.parentData,(0,T._)`${I.default.valCxt}.${I.default.parentData}`),t.var(I.default.parentDataProperty,(0,T._)`${I.default.valCxt}.${I.default.parentDataProperty}`),t.var(I.default.rootData,(0,T._)`${I.default.valCxt}.${I.default.rootData}`),e.dynamicRef&&t.var(I.default.dynamicAnchors,(0,T._)`${I.default.valCxt}.${I.default.dynamicAnchors}`)},()=>{t.var(I.default.instancePath,(0,T._)`""`),t.var(I.default.parentData,(0,T._)`undefined`),t.var(I.default.parentDataProperty,(0,T._)`undefined`),t.var(I.default.rootData,I.default.data),e.dynamicRef&&t.var(I.default.dynamicAnchors,(0,T._)`{}`)})}function ky(t){let{schema:e,opts:r,gen:n}=t;Cu(t,()=>{r.$comment&&e.$comment&&Fu(t),Gy(t),n.let(I.default.vErrors,null),n.let(I.default.errors,0),r.unevaluated&&xy(t),Mu(t),Xy(t)})}function xy(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,T._)`${r}.evaluated`),e.if((0,T._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,T._)`${t.evaluated}.props`,(0,T._)`undefined`)),e.if((0,T._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,T._)`${t.evaluated}.items`,(0,T._)`undefined`))}function Nu(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,T._)`/*# sourceURL=${r} */`:T.nil}function Uy(t,e){if(ju(t)&&(Lu(t),Du(t))){Vy(t,e);return}(0,qu.boolOrEmptySchema)(t,e)}function Du({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function ju(t){return typeof t.schema!="boolean"}function Vy(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Fu(t),Hy(t),Ky(t);let i=n.const("_errs",I.default.errors);Mu(t,i),n.var(e,(0,T._)`${i} === ${I.default.errors}`)}function Lu(t){(0,Ot.checkUnknownRules)(t),zy(t)}function Mu(t,e){if(t.opts.jtd)return Iu(t,[],!1,e);let r=(0,Tu.getSchemaTypes)(t.schema),n=(0,Tu.coerceAndCheckDataType)(t,r);Iu(t,r,!n,e)}function zy(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Ot.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Gy(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ot.checkStrictMode)(t,"default is ignored in the schema root")}function Hy(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,jy.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Ky(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Fu({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)t.code((0,T._)`${I.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=(0,T.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,T._)`${I.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function Xy(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=t;r.$async?e.if((0,T._)`${I.default.errors} === 0`,()=>e.return(I.default.data),()=>e.throw((0,T._)`new ${s}(${I.default.vErrors})`)):(e.assign((0,T._)`${n}.errors`,I.default.vErrors),i.unevaluated&&By(t),e.return((0,T._)`${I.default.errors} === 0`))}function By({gen:t,evaluated:e,props:r,items:n}){r instanceof T.Name&&t.assign((0,T._)`${e}.props`,r),n instanceof T.Name&&t.assign((0,T._)`${e}.items`,n)}function Iu(t,e,r,n){let{gen:s,schema:i,data:a,allErrors:o,opts:c,self:f}=t,{RULES:h}=f;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,Ot.schemaHasRulesButRef)(i,h))){s.block(()=>ku(t,"$ref",h.all.$ref.definition));return}c.jtd||Yy(t,e),s.block(()=>{for(let _ of h.rules)d(_);d(h.post)});function d(_){(0,Ji.shouldUseGroup)(i,_)&&(_.type?(s.if((0,as.checkDataType)(_.type,a,c.strictNumbers)),Pu(t,_),e.length===1&&e[0]===_.type&&r&&(s.else(),(0,as.reportTypeError)(t)),s.endIf()):Pu(t,_),o||s.if((0,T._)`${I.default.errors} === ${n||0}`))}}function Pu(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Dy.assignDefaults)(t,e.type),r.block(()=>{for(let i of e.rules)(0,Ji.shouldUseRule)(n,i)&&ku(t,i.keyword,i.definition,e.type)})}function Yy(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Jy(t,e),t.opts.allowUnionTypes||Wy(t,e),Zy(t,t.dataTypes))}function Jy(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Au(t.dataTypes,r)||Wi(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Au(e,r))}}function Wy(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Wi(t,"use allowUnionTypes to allow union type keyword")}function Zy(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,Ji.shouldUseRule)(t.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>Qy(e,a))&&Wi(t,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function Qy(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Au(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Wi(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ot.checkStrictMode)(t,e,t.opts.strictTypes)}var os=class{constructor(e,r,n){if((0,mn.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ot.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",xu(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,mn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",I.default.errors))}result(e,r,n){this.failResult((0,T.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,T.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,T._)`${r} !== undefined && (${(0,T.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?pn.reportExtraError:pn.reportError)(this,this.def.error,r)}$dataError(){(0,pn.reportError)(this,this.def.$dataError||pn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,pn.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=T.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=T.nil,r=T.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,T.or)((0,T._)`${s} === undefined`,r)),e!==T.nil&&n.assign(e,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==T.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,T.or)(a(),o());function a(){if(n.length){if(!(r instanceof T.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,T._)`${(0,as.checkDataTypes)(c,r,i.opts.strictNumbers,as.DataType.Wrong)}`}return T.nil}function o(){if(s.validateSchema){let c=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,T._)`!${c}(${r})`}return T.nil}}subschema(e,r){let n=(0,Yi.getSubschema)(this.it,e);(0,Yi.extendSubschemaData)(n,this.it,e),(0,Yi.extendSubschemaMode)(n,e);let s={...this.it,...n,items:void 0,props:void 0};return Uy(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Ot.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ot.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,T.Name)),!0}};Lt.KeywordCxt=os;function ku(t,e,r,n){let s=new os(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,mn.funcKeywordCode)(s,r):"macro"in r?(0,mn.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,mn.funcKeywordCode)(s,r)}var e0=/^\/(?:[^~]|~0|~1)*$/,t0=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xu(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,i;if(t==="")return I.default.rootData;if(t[0]==="/"){if(!e0.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,i=I.default.rootData}else{let f=t0.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let h=+f[1];if(s=f[2],s==="#"){if(h>=e)throw new Error(c("property/index",h));return n[e-h]}if(h>e)throw new Error(c("data",h));if(i=r[e-h],!s)return i}let a=i,o=s.split("/");for(let f of o)f&&(i=(0,T._)`${i}${(0,T.getProperty)((0,Ot.unescapeJsonPointer)(f))}`,a=(0,T._)`${a} && ${i}`);return a;function c(f,h){return`Cannot access ${f} ${h} levels up, current level is ${e}`}}Lt.getData=xu});var cs=y(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var Zi=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Qi.default=Zi});var us=y(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var ea=hn(),ta=class extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ea.resolveUrl)(e,r,n),this.missingSchema=(0,ea.normalizeId)((0,ea.getFullPath)(e,this.missingRef))}};ra.default=ta});var fs=y(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.resolveSchema=Ke.getCompilingSchema=Ke.resolveRef=Ke.compileSchema=Ke.SchemaEnv=void 0;var Qe=q(),r0=cs(),Qt=St(),et=hn(),Uu=z(),n0=yn(),Ar=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,et.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ke.SchemaEnv=Ar;function sa(t){let e=Vu.call(this,t);if(e)return e;let r=(0,et.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Qe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o;t.$async&&(o=a.scopeValue("Error",{ref:r0.default,code:(0,Qe._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");t.validateName=c;let f={gen:a,allErrors:this.opts.allErrors,data:Qt.default.data,parentData:Qt.default.parentData,parentDataProperty:Qt.default.parentDataProperty,dataNames:[Qt.default.data],dataPathArr:[Qe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Qe.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Qe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Qe._)`""`,opts:this.opts,self:this},h;try{this._compilations.add(t),(0,n0.validateFunctionCode)(f),a.optimize(this.opts.code.optimize);let d=a.toString();h=`${a.scopeRefs(Qt.default.scope)}return ${d}`,this.opts.code.process&&(h=this.opts.code.process(h,t));let m=new Function(`${Qt.default.self}`,`${Qt.default.scope}`,h)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=t.schema,m.schemaEnv=t,t.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){let{props:$,items:E}=f;m.evaluated={props:$ instanceof Qe.Name?void 0:$,items:E instanceof Qe.Name?void 0:E,dynamicProps:$ instanceof Qe.Name,dynamicItems:E instanceof Qe.Name},m.source&&(m.source.evaluated=(0,Qe.stringify)(m.evaluated))}return t.validate=m,t}catch(d){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),d}finally{this._compilations.delete(t)}}Ke.compileSchema=sa;function s0(t,e,r){var n;r=(0,et.resolveUrl)(this.opts.uriResolver,e,r);let s=t.refs[r];if(s)return s;let i=o0.call(this,t,r);if(i===void 0){let a=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new Ar({schema:a,schemaId:o,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=i0.call(this,i)}Ke.resolveRef=s0;function i0(t){return(0,et.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:sa.call(this,t)}function Vu(t){for(let e of this._compilations)if(a0(e,t))return e}Ke.getCompilingSchema=Vu;function a0(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function o0(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||ls.call(this,t,e)}function ls(t,e){let r=this.opts.uriResolver.parse(e),n=(0,et._getFullPath)(this.opts.uriResolver,r),s=(0,et.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return na.call(this,r,t);let i=(0,et.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=ls.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:na.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||sa.call(this,a),i===(0,et.normalizeId)(e)){let{schema:o}=a,{schemaId:c}=this.opts,f=o[c];return f&&(s=(0,et.resolveUrl)(this.opts.uriResolver,s,f)),new Ar({schema:o,schemaId:c,root:t,baseId:s})}return na.call(this,r,a)}}Ke.resolveSchema=ls;var c0=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function na(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,Uu.unescapeFragment)(o)];if(c===void 0)return;r=c;let f=typeof r=="object"&&r[this.opts.schemaId];!c0.has(o)&&f&&(e=(0,et.resolveUrl)(this.opts.uriResolver,e,f))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Uu.schemaHasRulesButRef)(r,this.RULES)){let o=(0,et.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=ls.call(this,n,o)}let{schemaId:a}=this.opts;if(i=i||new Ar({schema:r,schemaId:a,root:n,baseId:e}),i.schema!==i.root.schema)return i}});var zu=y((IS,u0)=>{u0.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Hu=y((ds,Gu)=>{(function(t,e){typeof ds=="object"&&typeof Gu<"u"?e(ds):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(ds,function(t){"use strict";function e(){for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];if(u.length>1){u[0]=u[0].slice(0,-1);for(var g=u.length-1,v=1;v<g;++v)u[v]=u[v].slice(1,-1);return u[g]=u[g].slice(1),u.join("")}else return u[0]}function r(l){return"(?:"+l+")"}function n(l){return l===void 0?"undefined":l===null?"null":Object.prototype.toString.call(l).split(" ").pop().split("]").shift().toLowerCase()}function s(l){return l.toUpperCase()}function i(l){return l!=null?l instanceof Array?l:typeof l.length!="number"||l.split||l.setInterval||l.call?[l]:Array.prototype.slice.call(l):[]}function a(l,u){var p=l;if(u)for(var g in u)p[g]=u[g];return p}function o(l){var u="[A-Za-z]",p="[\\x0D]",g="[0-9]",v="[\\x22]",O=e(g,"[A-Fa-f]"),P="[\\x0A]",U="[\\x20]",K=r(r("%[EFef]"+O+"%"+O+O+"%"+O+O)+"|"+r("%[89A-Fa-f]"+O+"%"+O+O)+"|"+r("%"+O+O)),fe="[\\:\\/\\?\\#\\[\\]\\@]",k="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ie=e(fe,k),de=l?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",se=l?"[\\uE000-\\uF8FF]":"[]",G=e(u,g,"[\\-\\.\\_\\~]",de),ae=r(u+e(u,g,"[\\+\\-\\.]")+"*"),J=r(r(K+"|"+e(G,k,"[\\:]"))+"*"),Gt=r(r("25[0-5]")+"|"+r("2[0-4]"+g)+"|"+r("1"+g+g)+"|"+r("[1-9]"+g)+"|"+g),je=r(r("25[0-5]")+"|"+r("2[0-4]"+g)+"|"+r("1"+g+g)+"|"+r("0?[1-9]"+g)+"|0?0?"+g),Ve=r(je+"\\."+je+"\\."+je+"\\."+je),Z=r(O+"{1,4}"),Le=r(r(Z+"\\:"+Z)+"|"+Ve),ze=r(r(Z+"\\:")+"{6}"+Le),ct=r("\\:\\:"+r(Z+"\\:")+"{5}"+Le),Ht=r(r(Z)+"?\\:\\:"+r(Z+"\\:")+"{4}"+Le),vt=r(r(r(Z+"\\:")+"{0,1}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{3}"+Le),Jr=r(r(r(Z+"\\:")+"{0,2}"+Z)+"?\\:\\:"+r(Z+"\\:")+"{2}"+Le),Hn=r(r(r(Z+"\\:")+"{0,3}"+Z)+"?\\:\\:"+Z+"\\:"+Le),Kn=r(r(r(Z+"\\:")+"{0,4}"+Z)+"?\\:\\:"+Le),mr=r(r(r(Z+"\\:")+"{0,5}"+Z)+"?\\:\\:"+Z),yr=r(r(r(Z+"\\:")+"{0,6}"+Z)+"?\\:\\:"),_t=r([ze,ct,Ht,vt,Jr,Hn,Kn,mr,yr].join("|")),gr=r(r(G+"|"+K)+"+"),Qs=r(_t+"\\%25"+gr),Kt=r(_t+r("\\%25|\\%(?!"+O+"{2})")+gr),ap=r("[vV]"+O+"+\\."+e(G,k,"[\\:]")+"+"),op=r("\\["+r(Kt+"|"+_t+"|"+ap)+"\\]"),Ho=r(r(K+"|"+e(G,k))+"*"),Wr=r(op+"|"+Ve+"(?!"+Ho+")|"+Ho),Zr=r(g+"*"),Ko=r(r(J+"@")+"?"+Wr+r("\\:"+Zr)+"?"),Qr=r(K+"|"+e(G,k,"[\\:\\@]")),cp=r(Qr+"*"),Xo=r(Qr+"+"),up=r(r(K+"|"+e(G,k,"[\\@]"))+"+"),$t=r(r("\\/"+cp)+"*"),vr=r("\\/"+r(Xo+$t)+"?"),ei=r(up+$t),Xn=r(Xo+$t),_r="(?!"+Qr+")",Tw=r($t+"|"+vr+"|"+ei+"|"+Xn+"|"+_r),$r=r(r(Qr+"|"+e("[\\/\\?]",se))+"*"),en=r(r(Qr+"|[\\/\\?]")+"*"),Bo=r(r("\\/\\/"+Ko+$t)+"|"+vr+"|"+Xn+"|"+_r),lp=r(ae+"\\:"+Bo+r("\\?"+$r)+"?"+r("\\#"+en)+"?"),fp=r(r("\\/\\/"+Ko+$t)+"|"+vr+"|"+ei+"|"+_r),dp=r(fp+r("\\?"+$r)+"?"+r("\\#"+en)+"?"),Nw=r(lp+"|"+dp),Iw=r(ae+"\\:"+Bo+r("\\?"+$r)+"?"),Pw="^("+ae+")\\:"+r(r("\\/\\/("+r("("+J+")@")+"?("+Wr+")"+r("\\:("+Zr+")")+"?)")+"?("+$t+"|"+vr+"|"+Xn+"|"+_r+")")+r("\\?("+$r+")")+"?"+r("\\#("+en+")")+"?$",Aw="^(){0}"+r(r("\\/\\/("+r("("+J+")@")+"?("+Wr+")"+r("\\:("+Zr+")")+"?)")+"?("+$t+"|"+vr+"|"+ei+"|"+_r+")")+r("\\?("+$r+")")+"?"+r("\\#("+en+")")+"?$",qw="^("+ae+")\\:"+r(r("\\/\\/("+r("("+J+")@")+"?("+Wr+")"+r("\\:("+Zr+")")+"?)")+"?("+$t+"|"+vr+"|"+Xn+"|"+_r+")")+r("\\?("+$r+")")+"?$",Cw="^"+r("\\#("+en+")")+"?$",Dw="^"+r("("+J+")@")+"?("+Wr+")"+r("\\:("+Zr+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",u,g,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",G,k),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",G,k),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",G,k),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",G,k),"g"),NOT_QUERY:new RegExp(e("[^\\%]",G,k,"[\\:\\@\\/\\?]",se),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",G,k,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",G,k),"g"),UNRESERVED:new RegExp(G,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",G,ie),"g"),PCT_ENCODED:new RegExp(K,"g"),IPV4ADDRESS:new RegExp("^("+Ve+")$"),IPV6ADDRESS:new RegExp("^\\[?("+_t+")"+r(r("\\%25|\\%(?!"+O+"{2})")+"("+gr+")")+"?\\]?$")}}var c=o(!1),f=o(!0),h=function(){function l(u,p){var g=[],v=!0,O=!1,P=void 0;try{for(var U=u[Symbol.iterator](),K;!(v=(K=U.next()).done)&&(g.push(K.value),!(p&&g.length===p));v=!0);}catch(fe){O=!0,P=fe}finally{try{!v&&U.return&&U.return()}finally{if(O)throw P}}return g}return function(u,p){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return l(u,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(l){if(Array.isArray(l)){for(var u=0,p=Array(l.length);u<l.length;u++)p[u]=l[u];return p}else return Array.from(l)},_=2147483647,m=36,$=1,E=26,w=38,S=700,M=72,D=128,B="-",N=/^xn--/,xe=/[^\0-\x7E]/,Tt=/[\x2E\u3002\uFF0E\uFF61]/g,Xr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Vt=m-$,_e=Math.floor,zt=String.fromCharCode;function st(l){throw new RangeError(Xr[l])}function zn(l,u){for(var p=[],g=l.length;g--;)p[g]=u(l[g]);return p}function Gn(l,u){var p=l.split("@"),g="";p.length>1&&(g=p[0]+"@",l=p[1]),l=l.replace(Tt,".");var v=l.split("."),O=zn(v,u).join(".");return g+O}function To(l){for(var u=[],p=0,g=l.length;p<g;){var v=l.charCodeAt(p++);if(v>=55296&&v<=56319&&p<g){var O=l.charCodeAt(p++);(O&64512)==56320?u.push(((v&1023)<<10)+(O&1023)+65536):(u.push(v),p--)}else u.push(v)}return u}var Lh=function(u){return String.fromCodePoint.apply(String,d(u))},Mh=function(u){return u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:m},No=function(u,p){return u+22+75*(u<26)-((p!=0)<<5)},Io=function(u,p,g){var v=0;for(u=g?_e(u/S):u>>1,u+=_e(u/p);u>Vt*E>>1;v+=m)u=_e(u/Vt);return _e(v+(Vt+1)*u/(u+w))},Po=function(u){var p=[],g=u.length,v=0,O=D,P=M,U=u.lastIndexOf(B);U<0&&(U=0);for(var K=0;K<U;++K)u.charCodeAt(K)>=128&&st("not-basic"),p.push(u.charCodeAt(K));for(var fe=U>0?U+1:0;fe<g;){for(var k=v,ie=1,de=m;;de+=m){fe>=g&&st("invalid-input");var se=Mh(u.charCodeAt(fe++));(se>=m||se>_e((_-v)/ie))&&st("overflow"),v+=se*ie;var G=de<=P?$:de>=P+E?E:de-P;if(se<G)break;var ae=m-G;ie>_e(_/ae)&&st("overflow"),ie*=ae}var J=p.length+1;P=Io(v-k,J,k==0),_e(v/J)>_-O&&st("overflow"),O+=_e(v/J),v%=J,p.splice(v++,0,O)}return String.fromCodePoint.apply(String,p)},Ao=function(u){var p=[];u=To(u);var g=u.length,v=D,O=0,P=M,U=!0,K=!1,fe=void 0;try{for(var k=u[Symbol.iterator](),ie;!(U=(ie=k.next()).done);U=!0){var de=ie.value;de<128&&p.push(zt(de))}}catch(Kt){K=!0,fe=Kt}finally{try{!U&&k.return&&k.return()}finally{if(K)throw fe}}var se=p.length,G=se;for(se&&p.push(B);G<g;){var ae=_,J=!0,Gt=!1,je=void 0;try{for(var Ve=u[Symbol.iterator](),Z;!(J=(Z=Ve.next()).done);J=!0){var Le=Z.value;Le>=v&&Le<ae&&(ae=Le)}}catch(Kt){Gt=!0,je=Kt}finally{try{!J&&Ve.return&&Ve.return()}finally{if(Gt)throw je}}var ze=G+1;ae-v>_e((_-O)/ze)&&st("overflow"),O+=(ae-v)*ze,v=ae;var ct=!0,Ht=!1,vt=void 0;try{for(var Jr=u[Symbol.iterator](),Hn;!(ct=(Hn=Jr.next()).done);ct=!0){var Kn=Hn.value;if(Kn<v&&++O>_&&st("overflow"),Kn==v){for(var mr=O,yr=m;;yr+=m){var _t=yr<=P?$:yr>=P+E?E:yr-P;if(mr<_t)break;var gr=mr-_t,Qs=m-_t;p.push(zt(No(_t+gr%Qs,0))),mr=_e(gr/Qs)}p.push(zt(No(mr,0))),P=Io(O,ze,G==se),O=0,++G}}}catch(Kt){Ht=!0,vt=Kt}finally{try{!ct&&Jr.return&&Jr.return()}finally{if(Ht)throw vt}}++O,++v}return p.join("")},Fh=function(u){return Gn(u,function(p){return N.test(p)?Po(p.slice(4).toLowerCase()):p})},kh=function(u){return Gn(u,function(p){return xe.test(p)?"xn--"+Ao(p):p})},fr={version:"2.1.0",ucs2:{decode:To,encode:Lh},decode:Po,encode:Ao,toASCII:kh,toUnicode:Fh},Ue={};function it(l){var u=l.charCodeAt(0),p=void 0;return u<16?p="%0"+u.toString(16).toUpperCase():u<128?p="%"+u.toString(16).toUpperCase():u<2048?p="%"+(u>>6|192).toString(16).toUpperCase()+"%"+(u&63|128).toString(16).toUpperCase():p="%"+(u>>12|224).toString(16).toUpperCase()+"%"+(u>>6&63|128).toString(16).toUpperCase()+"%"+(u&63|128).toString(16).toUpperCase(),p}function dr(l){for(var u="",p=0,g=l.length;p<g;){var v=parseInt(l.substr(p+1,2),16);if(v<128)u+=String.fromCharCode(v),p+=3;else if(v>=194&&v<224){if(g-p>=6){var O=parseInt(l.substr(p+4,2),16);u+=String.fromCharCode((v&31)<<6|O&63)}else u+=l.substr(p,6);p+=6}else if(v>=224){if(g-p>=9){var P=parseInt(l.substr(p+4,2),16),U=parseInt(l.substr(p+7,2),16);u+=String.fromCharCode((v&15)<<12|(P&63)<<6|U&63)}else u+=l.substr(p,9);p+=9}else u+=l.substr(p,3),p+=3}return u}function Ys(l,u){function p(g){var v=dr(g);return v.match(u.UNRESERVED)?v:g}return l.scheme&&(l.scheme=String(l.scheme).replace(u.PCT_ENCODED,p).toLowerCase().replace(u.NOT_SCHEME,"")),l.userinfo!==void 0&&(l.userinfo=String(l.userinfo).replace(u.PCT_ENCODED,p).replace(u.NOT_USERINFO,it).replace(u.PCT_ENCODED,s)),l.host!==void 0&&(l.host=String(l.host).replace(u.PCT_ENCODED,p).toLowerCase().replace(u.NOT_HOST,it).replace(u.PCT_ENCODED,s)),l.path!==void 0&&(l.path=String(l.path).replace(u.PCT_ENCODED,p).replace(l.scheme?u.NOT_PATH:u.NOT_PATH_NOSCHEME,it).replace(u.PCT_ENCODED,s)),l.query!==void 0&&(l.query=String(l.query).replace(u.PCT_ENCODED,p).replace(u.NOT_QUERY,it).replace(u.PCT_ENCODED,s)),l.fragment!==void 0&&(l.fragment=String(l.fragment).replace(u.PCT_ENCODED,p).replace(u.NOT_FRAGMENT,it).replace(u.PCT_ENCODED,s)),l}function Js(l){return l.replace(/^0*(.*)/,"$1")||"0"}function Ws(l,u){var p=l.match(u.IPV4ADDRESS)||[],g=h(p,2),v=g[1];return v?v.split(".").map(Js).join("."):l}function qo(l,u){var p=l.match(u.IPV6ADDRESS)||[],g=h(p,3),v=g[1],O=g[2];if(v){for(var P=v.toLowerCase().split("::").reverse(),U=h(P,2),K=U[0],fe=U[1],k=fe?fe.split(":").map(Js):[],ie=K.split(":").map(Js),de=u.IPV4ADDRESS.test(ie[ie.length-1]),se=de?7:8,G=ie.length-se,ae=Array(se),J=0;J<se;++J)ae[J]=k[J]||ie[G+J]||"";de&&(ae[se-1]=Ws(ae[se-1],u));var Gt=ae.reduce(function(ze,ct,Ht){if(!ct||ct==="0"){var vt=ze[ze.length-1];vt&&vt.index+vt.length===Ht?vt.length++:ze.push({index:Ht,length:1})}return ze},[]),je=Gt.sort(function(ze,ct){return ct.length-ze.length})[0],Ve=void 0;if(je&&je.length>1){var Z=ae.slice(0,je.index),Le=ae.slice(je.index+je.length);Ve=Z.join(":")+"::"+Le.join(":")}else Ve=ae.join(":");return O&&(Ve+="%"+O),Ve}else return l}var xh=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Uh="".match(/(){0}/)[1]===void 0;function yt(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p={},g=u.iri!==!1?f:c;u.reference==="suffix"&&(l=(u.scheme?u.scheme+":":"")+"//"+l);var v=l.match(xh);if(v){Uh?(p.scheme=v[1],p.userinfo=v[3],p.host=v[4],p.port=parseInt(v[5],10),p.path=v[6]||"",p.query=v[7],p.fragment=v[8],isNaN(p.port)&&(p.port=v[5])):(p.scheme=v[1]||void 0,p.userinfo=l.indexOf("@")!==-1?v[3]:void 0,p.host=l.indexOf("//")!==-1?v[4]:void 0,p.port=parseInt(v[5],10),p.path=v[6]||"",p.query=l.indexOf("?")!==-1?v[7]:void 0,p.fragment=l.indexOf("#")!==-1?v[8]:void 0,isNaN(p.port)&&(p.port=l.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?v[4]:void 0)),p.host&&(p.host=qo(Ws(p.host,g),g)),p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&!p.path&&p.query===void 0?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",u.reference&&u.reference!=="suffix"&&u.reference!==p.reference&&(p.error=p.error||"URI is not a "+u.reference+" reference.");var O=Ue[(u.scheme||p.scheme||"").toLowerCase()];if(!u.unicodeSupport&&(!O||!O.unicodeSupport)){if(p.host&&(u.domainHost||O&&O.domainHost))try{p.host=fr.toASCII(p.host.replace(g.PCT_ENCODED,dr).toLowerCase())}catch(P){p.error=p.error||"Host's domain name can not be converted to ASCII via punycode: "+P}Ys(p,c)}else Ys(p,g);O&&O.parse&&O.parse(p,u)}else p.error=p.error||"URI can not be parsed.";return p}function Vh(l,u){var p=u.iri!==!1?f:c,g=[];return l.userinfo!==void 0&&(g.push(l.userinfo),g.push("@")),l.host!==void 0&&g.push(qo(Ws(String(l.host),p),p).replace(p.IPV6ADDRESS,function(v,O,P){return"["+O+(P?"%25"+P:"")+"]"})),(typeof l.port=="number"||typeof l.port=="string")&&(g.push(":"),g.push(String(l.port))),g.length?g.join(""):void 0}var Co=/^\.\.?\//,Do=/^\/\.(\/|$)/,jo=/^\/\.\.(\/|$)/,zh=/^\/?(?:.|\n)*?(?=\/|$)/;function hr(l){for(var u=[];l.length;)if(l.match(Co))l=l.replace(Co,"");else if(l.match(Do))l=l.replace(Do,"/");else if(l.match(jo))l=l.replace(jo,"/"),u.pop();else if(l==="."||l==="..")l="";else{var p=l.match(zh);if(p){var g=p[0];l=l.slice(g.length),u.push(g)}else throw new Error("Unexpected dot segment condition")}return u.join("")}function at(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.iri?f:c,g=[],v=Ue[(u.scheme||l.scheme||"").toLowerCase()];if(v&&v.serialize&&v.serialize(l,u),l.host&&!p.IPV6ADDRESS.test(l.host)){if(u.domainHost||v&&v.domainHost)try{l.host=u.iri?fr.toUnicode(l.host):fr.toASCII(l.host.replace(p.PCT_ENCODED,dr).toLowerCase())}catch(U){l.error=l.error||"Host's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+U}}Ys(l,p),u.reference!=="suffix"&&l.scheme&&(g.push(l.scheme),g.push(":"));var O=Vh(l,u);if(O!==void 0&&(u.reference!=="suffix"&&g.push("//"),g.push(O),l.path&&l.path.charAt(0)!=="/"&&g.push("/")),l.path!==void 0){var P=l.path;!u.absolutePath&&(!v||!v.absolutePath)&&(P=hr(P)),O===void 0&&(P=P.replace(/^\/\//,"/%2F")),g.push(P)}return l.query!==void 0&&(g.push("?"),g.push(l.query)),l.fragment!==void 0&&(g.push("#"),g.push(l.fragment)),g.join("")}function Lo(l,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments[3],v={};return g||(l=yt(at(l,p),p),u=yt(at(u,p),p)),p=p||{},!p.tolerant&&u.scheme?(v.scheme=u.scheme,v.userinfo=u.userinfo,v.host=u.host,v.port=u.port,v.path=hr(u.path||""),v.query=u.query):(u.userinfo!==void 0||u.host!==void 0||u.port!==void 0?(v.userinfo=u.userinfo,v.host=u.host,v.port=u.port,v.path=hr(u.path||""),v.query=u.query):(u.path?(u.path.charAt(0)==="/"?v.path=hr(u.path):((l.userinfo!==void 0||l.host!==void 0||l.port!==void 0)&&!l.path?v.path="/"+u.path:l.path?v.path=l.path.slice(0,l.path.lastIndexOf("/")+1)+u.path:v.path=u.path,v.path=hr(v.path)),v.query=u.query):(v.path=l.path,u.query!==void 0?v.query=u.query:v.query=l.query),v.userinfo=l.userinfo,v.host=l.host,v.port=l.port),v.scheme=l.scheme),v.fragment=u.fragment,v}function Gh(l,u,p){var g=a({scheme:"null"},p);return at(Lo(yt(l,g),yt(u,g),g,!0),g)}function Hh(l,u){return typeof l=="string"?l=at(yt(l,u),u):n(l)==="object"&&(l=yt(at(l,u),u)),l}function Kh(l,u,p){return typeof l=="string"?l=at(yt(l,p),p):n(l)==="object"&&(l=at(l,p)),typeof u=="string"?u=at(yt(u,p),p):n(u)==="object"&&(u=at(u,p)),l===u}function Xh(l,u){return l&&l.toString().replace(!u||!u.iri?c.ESCAPE:f.ESCAPE,it)}function gt(l,u){return l&&l.toString().replace(!u||!u.iri?c.PCT_ENCODED:f.PCT_ENCODED,dr)}var Br={scheme:"http",domainHost:!0,parse:function(u,p){return u.host||(u.error=u.error||"HTTP URIs must have a host."),u},serialize:function(u,p){var g=String(u.scheme).toLowerCase()==="https";return(u.port===(g?443:80)||u.port==="")&&(u.port=void 0),u.path||(u.path="/"),u}},Mo={scheme:"https",domainHost:Br.domainHost,parse:Br.parse,serialize:Br.serialize};function Fo(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}var Yr={scheme:"ws",domainHost:!0,parse:function(u,p){var g=u;return g.secure=Fo(g),g.resourceName=(g.path||"/")+(g.query?"?"+g.query:""),g.path=void 0,g.query=void 0,g},serialize:function(u,p){if((u.port===(Fo(u)?443:80)||u.port==="")&&(u.port=void 0),typeof u.secure=="boolean"&&(u.scheme=u.secure?"wss":"ws",u.secure=void 0),u.resourceName){var g=u.resourceName.split("?"),v=h(g,2),O=v[0],P=v[1];u.path=O&&O!=="/"?O:void 0,u.query=P,u.resourceName=void 0}return u.fragment=void 0,u}},ko={scheme:"wss",domainHost:Yr.domainHost,parse:Yr.parse,serialize:Yr.serialize},Bh={},Yh=!0,xo="[A-Za-z0-9\\-\\.\\_\\~"+(Yh?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",ot="[0-9A-Fa-f]",Jh=r(r("%[EFef]"+ot+"%"+ot+ot+"%"+ot+ot)+"|"+r("%[89A-Fa-f]"+ot+"%"+ot+ot)+"|"+r("%"+ot+ot)),Wh="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Zh="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Qh=e(Zh,'[\\"\\\\]'),ep="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",tp=new RegExp(xo,"g"),pr=new RegExp(Jh,"g"),rp=new RegExp(e("[^]",Wh,"[\\.]",'[\\"]',Qh),"g"),Uo=new RegExp(e("[^]",xo,ep),"g"),np=Uo;function Zs(l){var u=dr(l);return u.match(tp)?u:l}var Vo={scheme:"mailto",parse:function(u,p){var g=u,v=g.to=g.path?g.path.split(","):[];if(g.path=void 0,g.query){for(var O=!1,P={},U=g.query.split("&"),K=0,fe=U.length;K<fe;++K){var k=U[K].split("=");switch(k[0]){case"to":for(var ie=k[1].split(","),de=0,se=ie.length;de<se;++de)v.push(ie[de]);break;case"subject":g.subject=gt(k[1],p);break;case"body":g.body=gt(k[1],p);break;default:O=!0,P[gt(k[0],p)]=gt(k[1],p);break}}O&&(g.headers=P)}g.query=void 0;for(var G=0,ae=v.length;G<ae;++G){var J=v[G].split("@");if(J[0]=gt(J[0]),p.unicodeSupport)J[1]=gt(J[1],p).toLowerCase();else try{J[1]=fr.toASCII(gt(J[1],p).toLowerCase())}catch(Gt){g.error=g.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gt}v[G]=J.join("@")}return g},serialize:function(u,p){var g=u,v=i(u.to);if(v){for(var O=0,P=v.length;O<P;++O){var U=String(v[O]),K=U.lastIndexOf("@"),fe=U.slice(0,K).replace(pr,Zs).replace(pr,s).replace(rp,it),k=U.slice(K+1);try{k=p.iri?fr.toUnicode(k):fr.toASCII(gt(k,p).toLowerCase())}catch(G){g.error=g.error||"Email address's domain name can not be converted to "+(p.iri?"Unicode":"ASCII")+" via punycode: "+G}v[O]=fe+"@"+k}g.path=v.join(",")}var ie=u.headers=u.headers||{};u.subject&&(ie.subject=u.subject),u.body&&(ie.body=u.body);var de=[];for(var se in ie)ie[se]!==Bh[se]&&de.push(se.replace(pr,Zs).replace(pr,s).replace(Uo,it)+"="+ie[se].replace(pr,Zs).replace(pr,s).replace(np,it));return de.length&&(g.query=de.join("&")),g}},sp=/^([^\:]+)\:(.*)/,zo={scheme:"urn",parse:function(u,p){var g=u.path&&u.path.match(sp),v=u;if(g){var O=p.scheme||v.scheme||"urn",P=g[1].toLowerCase(),U=g[2],K=O+":"+(p.nid||P),fe=Ue[K];v.nid=P,v.nss=U,v.path=void 0,fe&&(v=fe.parse(v,p))}else v.error=v.error||"URN can not be parsed.";return v},serialize:function(u,p){var g=p.scheme||u.scheme||"urn",v=u.nid,O=g+":"+(p.nid||v),P=Ue[O];P&&(u=P.serialize(u,p));var U=u,K=u.nss;return U.path=(v||p.nid)+":"+K,U}},ip=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Go={scheme:"urn:uuid",parse:function(u,p){var g=u;return g.uuid=g.nss,g.nss=void 0,!p.tolerant&&(!g.uuid||!g.uuid.match(ip))&&(g.error=g.error||"UUID is not valid."),g},serialize:function(u,p){var g=u;return g.nss=(u.uuid||"").toLowerCase(),g}};Ue[Br.scheme]=Br,Ue[Mo.scheme]=Mo,Ue[Yr.scheme]=Yr,Ue[ko.scheme]=ko,Ue[Vo.scheme]=Vo,Ue[zo.scheme]=zo,Ue[Go.scheme]=Go,t.SCHEMES=Ue,t.pctEncChar=it,t.pctDecChars=dr,t.parse=yt,t.removeDotSegments=hr,t.serialize=at,t.resolveComponents=Lo,t.resolve=Gh,t.normalize=Hh,t.equal=Kh,t.escapeComponent=Xh,t.unescapeComponent=gt,Object.defineProperty(t,"__esModule",{value:!0})})});var Xu=y(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var Ku=Hu();Ku.code='require("ajv/dist/runtime/uri").default';ia.default=Ku});var tl=y(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.CodeGen=ge.Name=ge.nil=ge.stringify=ge.str=ge._=ge.KeywordCxt=void 0;var l0=yn();Object.defineProperty(ge,"KeywordCxt",{enumerable:!0,get:function(){return l0.KeywordCxt}});var qr=q();Object.defineProperty(ge,"_",{enumerable:!0,get:function(){return qr._}});Object.defineProperty(ge,"str",{enumerable:!0,get:function(){return qr.str}});Object.defineProperty(ge,"stringify",{enumerable:!0,get:function(){return qr.stringify}});Object.defineProperty(ge,"nil",{enumerable:!0,get:function(){return qr.nil}});Object.defineProperty(ge,"Name",{enumerable:!0,get:function(){return qr.Name}});Object.defineProperty(ge,"CodeGen",{enumerable:!0,get:function(){return qr.CodeGen}});var f0=cs(),Zu=us(),d0=ki(),gn=fs(),h0=q(),vn=hn(),hs=dn(),oa=z(),Bu=zu(),p0=Xu(),Qu=(t,e)=>new RegExp(t,e);Qu.code="new RegExp";var m0=["removeAdditional","useDefaults","coerceTypes"],y0=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g0={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v0={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Yu=200;function _0(t){var e,r,n,s,i,a,o,c,f,h,d,_,m,$,E,w,S,M,D,B,N,xe,Tt,Xr,Vt;let _e=t.strict,zt=(e=t.code)===null||e===void 0?void 0:e.optimize,st=zt===!0||zt===void 0?1:zt||0,zn=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:Qu,Gn=(s=t.uriResolver)!==null&&s!==void 0?s:p0.default;return{strictSchema:(a=(i=t.strictSchema)!==null&&i!==void 0?i:_e)!==null&&a!==void 0?a:!0,strictNumbers:(c=(o=t.strictNumbers)!==null&&o!==void 0?o:_e)!==null&&c!==void 0?c:!0,strictTypes:(h=(f=t.strictTypes)!==null&&f!==void 0?f:_e)!==null&&h!==void 0?h:"log",strictTuples:(_=(d=t.strictTuples)!==null&&d!==void 0?d:_e)!==null&&_!==void 0?_:"log",strictRequired:($=(m=t.strictRequired)!==null&&m!==void 0?m:_e)!==null&&$!==void 0?$:!1,code:t.code?{...t.code,optimize:st,regExp:zn}:{optimize:st,regExp:zn},loopRequired:(E=t.loopRequired)!==null&&E!==void 0?E:Yu,loopEnum:(w=t.loopEnum)!==null&&w!==void 0?w:Yu,meta:(S=t.meta)!==null&&S!==void 0?S:!0,messages:(M=t.messages)!==null&&M!==void 0?M:!0,inlineRefs:(D=t.inlineRefs)!==null&&D!==void 0?D:!0,schemaId:(B=t.schemaId)!==null&&B!==void 0?B:"$id",addUsedSchema:(N=t.addUsedSchema)!==null&&N!==void 0?N:!0,validateSchema:(xe=t.validateSchema)!==null&&xe!==void 0?xe:!0,validateFormats:(Tt=t.validateFormats)!==null&&Tt!==void 0?Tt:!0,unicodeRegExp:(Xr=t.unicodeRegExp)!==null&&Xr!==void 0?Xr:!0,int32range:(Vt=t.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:Gn}}var _n=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,..._0(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new h0.ValueScope({scope:{},prefixes:y0,es5:r,lines:n}),this.logger=b0(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,d0.getRules)(),Ju.call(this,g0,e,"NOT SUPPORTED"),Ju.call(this,v0,e,"DEPRECATED","warn"),this._metaOpts=S0.call(this),e.formats&&E0.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w0.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),$0.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,s=Bu;n==="id"&&(s={...Bu},s.id=s.$id,delete s.$id),r&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);async function s(h,d){await i.call(this,h.$schema);let _=this._addSchema(h,d);return _.validate||a.call(this,_)}async function i(h){h&&!this.getSchema(h)&&await s.call(this,{$ref:h},!0)}async function a(h){try{return this._compileSchemaEnv(h)}catch(d){if(!(d instanceof Zu.default))throw d;return o.call(this,d),await c.call(this,d.missingSchema),a.call(this,h)}}function o({missingSchema:h,missingRef:d}){if(this.refs[h])throw new Error(`AnySchema ${h} is loaded but ${d} cannot be resolved`)}async function c(h){let d=await f.call(this,h);this.refs[h]||await i.call(this,d.$schema),this.refs[h]||this.addSchema(d,h,r)}async function f(h){let d=this._loading[h];if(d)return d;try{return await(this._loading[h]=n(h))}finally{delete this._loading[h]}}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,n,s);return this}let i;if(typeof e=="object"){let{schemaId:a}=this.opts;if(i=e[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return r=(0,vn.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(e){let r;for(;typeof(r=Wu.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,s=new gn.SchemaEnv({schema:{},schemaId:n});if(r=gn.resolveSchema.call(this,s,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Wu.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,vn.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(T0.call(this,n,r),!r)return(0,oa.eachItem)(n,i=>aa.call(this,i)),this;I0.call(this,r);let s={...r,type:(0,hs.getJSONTypes)(r.type),schemaType:(0,hs.getJSONTypes)(r.schemaType)};return(0,oa.eachItem)(n,s.type.length===0?i=>aa.call(this,i,s):i=>s.type.forEach(a=>aa.call(this,i,s,a))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let i=s.split("/").slice(1),a=e;for(let o of i)a=a[o];for(let o in n){let c=n[o];if(typeof c!="object")continue;let{$data:f}=c.definition,h=a[o];f&&h&&(a[o]=el(h))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof e=="object")a=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,vn.normalizeId)(a||n);let f=vn.getSchemaRefs.call(this,e,n);return c=new gn.SchemaEnv({schema:e,schemaId:o,meta:r,baseId:n,localRefs:f}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):gn.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{gn.compileSchema.call(this,e)}finally{this.opts=r}}};ge.default=_n;_n.ValidationError=f0.default;_n.MissingRefError=Zu.default;function Ju(t,e,r,n="error"){for(let s in t){let i=s;i in e&&this.logger[n](`${r}: option ${s}. ${t[i]}`)}}function Wu(t){return t=(0,vn.normalizeId)(t),this.schemas[t]||this.refs[t]}function $0(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function E0(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function w0(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function S0(){let t={...this.opts};for(let e of m0)delete t[e];return t}var O0={log(){},warn(){},error(){}};function b0(t){if(t===!1)return O0;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var R0=/^[a-z_$][a-z0-9_$:-]*$/i;function T0(t,e){let{RULES:r}=this;if((0,oa.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!R0.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function aa(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:c})=>c===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[t]=!0,!e)return;let o={keyword:t,definition:{...e,type:(0,hs.getJSONTypes)(e.type),schemaType:(0,hs.getJSONTypes)(e.schemaType)}};e.before?N0.call(this,a,o,e.before):a.rules.push(o),i.all[t]=o,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function N0(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function I0(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=el(e)),t.validateSchema=this.compile(e,!0))}var P0={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function el(t){return{anyOf:[t,P0]}}});var rl=y(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var A0={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ca.default=A0});var al=y(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.callRef=er.getValidate=void 0;var q0=us(),nl=He(),Ce=q(),Cr=St(),sl=fs(),ps=z(),C0={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=n,{root:f}=i;if((r==="#"||r==="#/")&&s===f.baseId)return d();let h=sl.resolveRef.call(c,f,s,r);if(h===void 0)throw new q0.default(n.opts.uriResolver,s,r);if(h instanceof sl.SchemaEnv)return _(h);return m(h);function d(){if(i===f)return ms(t,a,i,i.$async);let $=e.scopeValue("root",{ref:f});return ms(t,(0,Ce._)`${$}.validate`,f,f.$async)}function _($){let E=il(t,$);ms(t,E,$,$.$async)}function m($){let E=e.scopeValue("schema",o.code.source===!0?{ref:$,code:(0,Ce.stringify)($)}:{ref:$}),w=e.name("valid"),S=t.subschema({schema:$,dataTypes:[],schemaPath:Ce.nil,topSchemaRef:E,errSchemaPath:r},w);t.mergeEvaluated(S),t.ok(w)}}};function il(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Ce._)`${r.scopeValue("wrapper",{ref:e})}.validate`}er.getValidate=il;function ms(t,e,r,n){let{gen:s,it:i}=t,{allErrors:a,schemaEnv:o,opts:c}=i,f=c.passContext?Cr.default.this:Ce.nil;n?h():d();function h(){if(!o.$async)throw new Error("async schema referenced by sync schema");let $=s.let("valid");s.try(()=>{s.code((0,Ce._)`await ${(0,nl.callValidateCode)(t,e,f)}`),m(e),a||s.assign($,!0)},E=>{s.if((0,Ce._)`!(${E} instanceof ${i.ValidationError})`,()=>s.throw(E)),_(E),a||s.assign($,!1)}),t.ok($)}function d(){t.result((0,nl.callValidateCode)(t,e,f),()=>m(e),()=>_(e))}function _($){let E=(0,Ce._)`${$}.errors`;s.assign(Cr.default.vErrors,(0,Ce._)`${Cr.default.vErrors} === null ? ${E} : ${Cr.default.vErrors}.concat(${E})`),s.assign(Cr.default.errors,(0,Ce._)`${Cr.default.vErrors}.length`)}function m($){var E;if(!i.opts.unevaluated)return;let w=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(i.props!==!0)if(w&&!w.dynamicProps)w.props!==void 0&&(i.props=ps.mergeEvaluated.props(s,w.props,i.props));else{let S=s.var("props",(0,Ce._)`${$}.evaluated.props`);i.props=ps.mergeEvaluated.props(s,S,i.props,Ce.Name)}if(i.items!==!0)if(w&&!w.dynamicItems)w.items!==void 0&&(i.items=ps.mergeEvaluated.items(s,w.items,i.items));else{let S=s.var("items",(0,Ce._)`${$}.evaluated.items`);i.items=ps.mergeEvaluated.items(s,S,i.items,Ce.Name)}}}er.callRef=ms;er.default=C0});var ol=y(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var D0=rl(),j0=al(),L0=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",D0.default,j0.default];ua.default=L0});var cl=y(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var ys=q(),Mt=ys.operators,gs={maximum:{okStr:"<=",ok:Mt.LTE,fail:Mt.GT},minimum:{okStr:">=",ok:Mt.GTE,fail:Mt.LT},exclusiveMaximum:{okStr:"<",ok:Mt.LT,fail:Mt.GTE},exclusiveMinimum:{okStr:">",ok:Mt.GT,fail:Mt.LTE}},M0={message:({keyword:t,schemaCode:e})=>(0,ys.str)`must be ${gs[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,ys._)`{comparison: ${gs[t].okStr}, limit: ${e}}`},F0={keyword:Object.keys(gs),type:"number",schemaType:"number",$data:!0,error:M0,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,ys._)`${r} ${gs[e].fail} ${n} || isNaN(${r})`)}};la.default=F0});var ul=y(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var $n=q(),k0={message:({schemaCode:t})=>(0,$n.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,$n._)`{multipleOf: ${t}}`},x0={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:k0,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,i=s.opts.multipleOfPrecision,a=e.let("res"),o=i?(0,$n._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,$n._)`${a} !== parseInt(${a})`;t.fail$data((0,$n._)`(${n} === 0 || (${a} = ${r}/${n}, ${o}))`)}};fa.default=x0});var fl=y(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});function ll(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}da.default=ll;ll.code='require("ajv/dist/runtime/ucs2length").default'});var dl=y(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var tr=q(),U0=z(),V0=fl(),z0={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,tr.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,tr._)`{limit: ${t}}`},G0={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:z0,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,i=e==="maxLength"?tr.operators.GT:tr.operators.LT,a=s.opts.unicode===!1?(0,tr._)`${r}.length`:(0,tr._)`${(0,U0.useFunc)(t.gen,V0.default)}(${r})`;t.fail$data((0,tr._)`${a} ${i} ${n}`)}};ha.default=G0});var hl=y(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var H0=He(),vs=q(),K0={message:({schemaCode:t})=>(0,vs.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,vs._)`{pattern: ${t}}`},X0={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:K0,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:i}=t,a=i.opts.unicodeRegExp?"u":"",o=r?(0,vs._)`(new RegExp(${s}, ${a}))`:(0,H0.usePattern)(t,n);t.fail$data((0,vs._)`!${o}.test(${e})`)}};pa.default=X0});var pl=y(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var En=q(),B0={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,En.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,En._)`{limit: ${t}}`},Y0={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:B0,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?En.operators.GT:En.operators.LT;t.fail$data((0,En._)`Object.keys(${r}).length ${s} ${n}`)}};ma.default=Y0});var ml=y(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var wn=He(),Sn=q(),J0=z(),W0={message:({params:{missingProperty:t}})=>(0,Sn.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Sn._)`{missingProperty: ${t}}`},Z0={keyword:"required",type:"object",schemaType:"array",$data:!0,error:W0,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:i,it:a}=t,{opts:o}=a;if(!i&&r.length===0)return;let c=r.length>=o.loopRequired;if(a.allErrors?f():h(),o.strictRequired){let m=t.parentSchema.properties,{definedProperties:$}=t.it;for(let E of r)if((m==null?void 0:m[E])===void 0&&!$.has(E)){let w=a.schemaEnv.baseId+a.errSchemaPath,S=`required property "${E}" is not defined at "${w}" (strictRequired)`;(0,J0.checkStrictMode)(a,S,a.opts.strictRequired)}}function f(){if(c||i)t.block$data(Sn.nil,d);else for(let m of r)(0,wn.checkReportMissingProp)(t,m)}function h(){let m=e.let("missing");if(c||i){let $=e.let("valid",!0);t.block$data($,()=>_(m,$)),t.ok($)}else e.if((0,wn.checkMissingProp)(t,r,m)),(0,wn.reportMissingProp)(t,m),e.else()}function d(){e.forOf("prop",n,m=>{t.setParams({missingProperty:m}),e.if((0,wn.noPropertyInData)(e,s,m,o.ownProperties),()=>t.error())})}function _(m,$){t.setParams({missingProperty:m}),e.forOf(m,n,()=>{e.assign($,(0,wn.propertyInData)(e,s,m,o.ownProperties)),e.if((0,Sn.not)($),()=>{t.error(),e.break()})},Sn.nil)}}};ya.default=Z0});var yl=y(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var On=q(),Q0={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,On.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,On._)`{limit: ${t}}`},eg={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Q0,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?On.operators.GT:On.operators.LT;t.fail$data((0,On._)`${r}.length ${s} ${n}`)}};ga.default=eg});var _s=y(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var gl=Xi();gl.code='require("ajv/dist/runtime/equal").default';va.default=gl});var vl=y($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});var _a=dn(),ve=q(),tg=z(),rg=_s(),ng={message:({params:{i:t,j:e}})=>(0,ve.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ve._)`{i: ${t}, j: ${e}}`},sg={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ng,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=t;if(!n&&!s)return;let c=e.let("valid"),f=i.items?(0,_a.getSchemaTypes)(i.items):[];t.block$data(c,h,(0,ve._)`${a} === false`),t.ok(c);function h(){let $=e.let("i",(0,ve._)`${r}.length`),E=e.let("j");t.setParams({i:$,j:E}),e.assign(c,!0),e.if((0,ve._)`${$} > 1`,()=>(d()?_:m)($,E))}function d(){return f.length>0&&!f.some($=>$==="object"||$==="array")}function _($,E){let w=e.name("item"),S=(0,_a.checkDataTypes)(f,w,o.opts.strictNumbers,_a.DataType.Wrong),M=e.const("indices",(0,ve._)`{}`);e.for((0,ve._)`;${$}--;`,()=>{e.let(w,(0,ve._)`${r}[${$}]`),e.if(S,(0,ve._)`continue`),f.length>1&&e.if((0,ve._)`typeof ${w} == "string"`,(0,ve._)`${w} += "_"`),e.if((0,ve._)`typeof ${M}[${w}] == "number"`,()=>{e.assign(E,(0,ve._)`${M}[${w}]`),t.error(),e.assign(c,!1).break()}).code((0,ve._)`${M}[${w}] = ${$}`)})}function m($,E){let w=(0,tg.useFunc)(e,rg.default),S=e.name("outer");e.label(S).for((0,ve._)`;${$}--;`,()=>e.for((0,ve._)`${E} = ${$}; ${E}--;`,()=>e.if((0,ve._)`${w}(${r}[${$}], ${r}[${E}])`,()=>{t.error(),e.assign(c,!1).break(S)})))}}};$a.default=sg});var _l=y(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var Ea=q(),ig=z(),ag=_s(),og={message:"must be equal to constant",params:({schemaCode:t})=>(0,Ea._)`{allowedValue: ${t}}`},cg={keyword:"const",$data:!0,error:og,code(t){let{gen:e,data:r,$data:n,schemaCode:s,schema:i}=t;n||i&&typeof i=="object"?t.fail$data((0,Ea._)`!${(0,ig.useFunc)(e,ag.default)}(${r}, ${s})`):t.fail((0,Ea._)`${i} !== ${r}`)}};wa.default=cg});var $l=y(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var bn=q(),ug=z(),lg=_s(),fg={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,bn._)`{allowedValues: ${t}}`},dg={keyword:"enum",schemaType:"array",$data:!0,error:fg,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:i,it:a}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let o=s.length>=a.opts.loopEnum,c,f=()=>c??(c=(0,ug.useFunc)(e,lg.default)),h;if(o||n)h=e.let("valid"),t.block$data(h,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=e.const("vSchema",i);h=(0,bn.or)(...s.map(($,E)=>_(m,E)))}t.pass(h);function d(){e.assign(h,!1),e.forOf("v",i,m=>e.if((0,bn._)`${f()}(${r}, ${m})`,()=>e.assign(h,!0).break()))}function _(m,$){let E=s[$];return typeof E=="object"&&E!==null?(0,bn._)`${f()}(${r}, ${m}[${$}])`:(0,bn._)`${r} === ${E}`}}};Sa.default=dg});var El=y(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var hg=cl(),pg=ul(),mg=dl(),yg=hl(),gg=pl(),vg=ml(),_g=yl(),$g=vl(),Eg=_l(),wg=$l(),Sg=[hg.default,pg.default,mg.default,yg.default,gg.default,vg.default,_g.default,$g.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Eg.default,wg.default];Oa.default=Sg});var Ra=y(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.validateAdditionalItems=void 0;var rr=q(),ba=z(),Og={message:({params:{len:t}})=>(0,rr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,rr._)`{limit: ${t}}`},bg={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Og,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,ba.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}wl(t,n)}};function wl(t,e){let{gen:r,schema:n,data:s,keyword:i,it:a}=t;a.items=!0;let o=r.const("len",(0,rr._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,rr._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,ba.alwaysValidSchema)(a,n)){let f=r.var("valid",(0,rr._)`${o} <= ${e.length}`);r.if((0,rr.not)(f),()=>c(f)),t.ok(f)}function c(f){r.forRange("i",e.length,o,h=>{t.subschema({keyword:i,dataProp:h,dataPropType:ba.Type.Num},f),a.allErrors||r.if((0,rr.not)(f),()=>r.break())})}}Rn.validateAdditionalItems=wl;Rn.default=bg});var Ta=y(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.validateTuple=void 0;var Sl=q(),$s=z(),Rg=He(),Tg={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Ol(t,"additionalItems",e);r.items=!0,!(0,$s.alwaysValidSchema)(r,e)&&t.ok((0,Rg.validateArray)(t))}};function Ol(t,e,r=t.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:o}=t;h(s),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=$s.mergeEvaluated.items(n,r.length,o.items));let c=n.name("valid"),f=n.const("len",(0,Sl._)`${i}.length`);r.forEach((d,_)=>{(0,$s.alwaysValidSchema)(o,d)||(n.if((0,Sl._)`${f} > ${_}`,()=>t.subschema({keyword:a,schemaProp:_,dataProp:_},c)),t.ok(c))});function h(d){let{opts:_,errSchemaPath:m}=o,$=r.length,E=$===d.minItems&&($===d.maxItems||d[e]===!1);if(_.strictTuples&&!E){let w=`"${a}" is ${$}-tuple, but minItems or maxItems/${e} are not specified or different at path "${m}"`;(0,$s.checkStrictMode)(o,w,_.strictTuples)}}}Tn.validateTuple=Ol;Tn.default=Tg});var bl=y(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var Ng=Ta(),Ig={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Ng.validateTuple)(t,"items")};Na.default=Ig});var Tl=y(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});var Rl=q(),Pg=z(),Ag=He(),qg=Ra(),Cg={message:({params:{len:t}})=>(0,Rl.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Rl._)`{limit: ${t}}`},Dg={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Cg,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,Pg.alwaysValidSchema)(n,e)&&(s?(0,qg.validateAdditionalItems)(t,s):t.ok((0,Ag.validateArray)(t)))}};Ia.default=Dg});var Nl=y(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});var Xe=q(),Es=z(),jg={message:({params:{min:t,max:e}})=>e===void 0?(0,Xe.str)`must contain at least ${t} valid item(s)`:(0,Xe.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Xe._)`{minContains: ${t}}`:(0,Xe._)`{minContains: ${t}, maxContains: ${e}}`},Lg={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:jg,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:i}=t,a,o,{minContains:c,maxContains:f}=n;i.opts.next?(a=c===void 0?1:c,o=f):a=1;let h=e.const("len",(0,Xe._)`${s}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,Es.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,Es.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Es.alwaysValidSchema)(i,r)){let E=(0,Xe._)`${h} >= ${a}`;o!==void 0&&(E=(0,Xe._)`${E} && ${h} <= ${o}`),t.pass(E);return}i.items=!0;let d=e.name("valid");o===void 0&&a===1?m(d,()=>e.if(d,()=>e.break())):a===0?(e.let(d,!0),o!==void 0&&e.if((0,Xe._)`${s}.length > 0`,_)):(e.let(d,!1),_()),t.result(d,()=>t.reset());function _(){let E=e.name("_valid"),w=e.let("count",0);m(E,()=>e.if(E,()=>$(w)))}function m(E,w){e.forRange("i",0,h,S=>{t.subschema({keyword:"contains",dataProp:S,dataPropType:Es.Type.Num,compositeRule:!0},E),w()})}function $(E){e.code((0,Xe._)`${E}++`),o===void 0?e.if((0,Xe._)`${E} >= ${a}`,()=>e.assign(d,!0).break()):(e.if((0,Xe._)`${E} > ${o}`,()=>e.assign(d,!1).break()),a===1?e.assign(d,!0):e.if((0,Xe._)`${E} >= ${a}`,()=>e.assign(d,!0)))}}};Pa.default=Lg});var Al=y(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.validateSchemaDeps=ht.validatePropertyDeps=ht.error=void 0;var Aa=q(),Mg=z(),Nn=He();ht.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,Aa.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,Aa._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Fg={keyword:"dependencies",type:"object",schemaType:"object",error:ht.error,code(t){let[e,r]=kg(t);Il(t,e),Pl(t,r)}};function kg({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function Il(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let i=r.let("missing");for(let a in e){let o=e[a];if(o.length===0)continue;let c=(0,Nn.propertyInData)(r,n,a,s.opts.ownProperties);t.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),s.allErrors?r.if(c,()=>{for(let f of o)(0,Nn.checkReportMissingProp)(t,f)}):(r.if((0,Aa._)`${c} && (${(0,Nn.checkMissingProp)(t,o,i)})`),(0,Nn.reportMissingProp)(t,i),r.else())}}ht.validatePropertyDeps=Il;function Pl(t,e=t.schema){let{gen:r,data:n,keyword:s,it:i}=t,a=r.name("valid");for(let o in e)(0,Mg.alwaysValidSchema)(i,e[o])||(r.if((0,Nn.propertyInData)(r,n,o,i.opts.ownProperties),()=>{let c=t.subschema({keyword:s,schemaProp:o},a);t.mergeValidEvaluated(c,a)},()=>r.var(a,!0)),t.ok(a))}ht.validateSchemaDeps=Pl;ht.default=Fg});var Cl=y(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});var ql=q(),xg=z(),Ug={message:"property name must be valid",params:({params:t})=>(0,ql._)`{propertyName: ${t.propertyName}}`},Vg={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ug,code(t){let{gen:e,schema:r,data:n,it:s}=t;if((0,xg.alwaysValidSchema)(s,r))return;let i=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),e.if((0,ql.not)(i),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(i)}};qa.default=Vg});var Da=y(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var ws=He(),tt=q(),zg=St(),Ss=z(),Gg={message:"must NOT have additional properties",params:({params:t})=>(0,tt._)`{additionalProperty: ${t.additionalProperty}}`},Hg={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Gg,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=t;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Ss.alwaysValidSchema)(a,r))return;let f=(0,ws.allSchemaProperties)(n.properties),h=(0,ws.allSchemaProperties)(n.patternProperties);d(),t.ok((0,tt._)`${i} === ${zg.default.errors}`);function d(){e.forIn("key",s,w=>{!f.length&&!h.length?$(w):e.if(_(w),()=>$(w))})}function _(w){let S;if(f.length>8){let M=(0,Ss.schemaRefOrVal)(a,n.properties,"properties");S=(0,ws.isOwnProperty)(e,M,w)}else f.length?S=(0,tt.or)(...f.map(M=>(0,tt._)`${w} === ${M}`)):S=tt.nil;return h.length&&(S=(0,tt.or)(S,...h.map(M=>(0,tt._)`${(0,ws.usePattern)(t,M)}.test(${w})`))),(0,tt.not)(S)}function m(w){e.code((0,tt._)`delete ${s}[${w}]`)}function $(w){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(w);return}if(r===!1){t.setParams({additionalProperty:w}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,Ss.alwaysValidSchema)(a,r)){let S=e.name("valid");c.removeAdditional==="failing"?(E(w,S,!1),e.if((0,tt.not)(S),()=>{t.reset(),m(w)})):(E(w,S),o||e.if((0,tt.not)(S),()=>e.break()))}}function E(w,S,M){let D={keyword:"additionalProperties",dataProp:w,dataPropType:Ss.Type.Str};M===!1&&Object.assign(D,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(D,S)}}};Ca.default=Hg});var Ll=y(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});var Kg=yn(),Dl=He(),ja=z(),jl=Da(),Xg={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:i}=t;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&jl.default.code(new Kg.KeywordCxt(i,jl.default,"additionalProperties"));let a=(0,Dl.allSchemaProperties)(r);for(let d of a)i.definedProperties.add(d);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=ja.mergeEvaluated.props(e,(0,ja.toHash)(a),i.props));let o=a.filter(d=>!(0,ja.alwaysValidSchema)(i,r[d]));if(o.length===0)return;let c=e.name("valid");for(let d of o)f(d)?h(d):(e.if((0,Dl.propertyInData)(e,s,d,i.opts.ownProperties)),h(d),i.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(c);function f(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function h(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};La.default=Xg});var xl=y(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});var Ml=He(),Os=q(),Fl=z(),kl=z(),Bg={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:i}=t,{opts:a}=i,o=(0,Ml.allSchemaProperties)(r),c=o.filter(E=>(0,Fl.alwaysValidSchema)(i,r[E]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let f=a.strictSchema&&!a.allowMatchingProperties&&s.properties,h=e.name("valid");i.props!==!0&&!(i.props instanceof Os.Name)&&(i.props=(0,kl.evaluatedPropsToName)(e,i.props));let{props:d}=i;_();function _(){for(let E of o)f&&m(E),i.allErrors?$(E):(e.var(h,!0),$(E),e.if(h))}function m(E){for(let w in f)new RegExp(E).test(w)&&(0,Fl.checkStrictMode)(i,`property ${w} matches pattern ${E} (use allowMatchingProperties)`)}function $(E){e.forIn("key",n,w=>{e.if((0,Os._)`${(0,Ml.usePattern)(t,E)}.test(${w})`,()=>{let S=c.includes(E);S||t.subschema({keyword:"patternProperties",schemaProp:E,dataProp:w,dataPropType:kl.Type.Str},h),i.opts.unevaluated&&d!==!0?e.assign((0,Os._)`${d}[${w}]`,!0):!S&&!i.allErrors&&e.if((0,Os.not)(h),()=>e.break())})})}}};Ma.default=Bg});var Ul=y(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});var Yg=z(),Jg={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,Yg.alwaysValidSchema)(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Fa.default=Jg});var Vl=y(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});var Wg=He(),Zg={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Wg.validateUnion,error:{message:"must match a schema in anyOf"}};ka.default=Zg});var zl=y(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});var bs=q(),Qg=z(),ev={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,bs._)`{passingSchemas: ${t.passing}}`},tv={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ev,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,a=e.let("valid",!1),o=e.let("passing",null),c=e.name("_valid");t.setParams({passing:o}),e.block(f),t.result(a,()=>t.reset(),()=>t.error(!0));function f(){i.forEach((h,d)=>{let _;(0,Qg.alwaysValidSchema)(s,h)?e.var(c,!0):_=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&e.if((0,bs._)`${c} && ${a}`).assign(a,!1).assign(o,(0,bs._)`[${o}, ${d}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(o,d),_&&t.mergeEvaluated(_,bs.Name)})})}}};xa.default=tv});var Gl=y(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});var rv=z(),nv={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((i,a)=>{if((0,rv.alwaysValidSchema)(n,i))return;let o=t.subschema({keyword:"allOf",schemaProp:a},s);t.ok(s),t.mergeEvaluated(o)})}};Ua.default=nv});var Xl=y(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var Rs=q(),Kl=z(),sv={message:({params:t})=>(0,Rs.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Rs._)`{failingKeyword: ${t.ifClause}}`},iv={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:sv,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Kl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=Hl(n,"then"),i=Hl(n,"else");if(!s&&!i)return;let a=e.let("valid",!0),o=e.name("_valid");if(c(),t.reset(),s&&i){let h=e.let("ifClause");t.setParams({ifClause:h}),e.if(o,f("then",h),f("else",h))}else s?e.if(o,f("then")):e.if((0,Rs.not)(o),f("else"));t.pass(a,()=>t.error(!0));function c(){let h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(h)}function f(h,d){return()=>{let _=t.subschema({keyword:h},o);e.assign(a,o),t.mergeValidEvaluated(_,a),d?e.assign(d,(0,Rs._)`${h}`):t.setParams({ifClause:h})}}}};function Hl(t,e){let r=t.schema[e];return r!==void 0&&!(0,Kl.alwaysValidSchema)(t,r)}Va.default=iv});var Bl=y(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});var av=z(),ov={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,av.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};za.default=ov});var Yl=y(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var cv=Ra(),uv=bl(),lv=Ta(),fv=Tl(),dv=Nl(),hv=Al(),pv=Cl(),mv=Da(),yv=Ll(),gv=xl(),vv=Ul(),_v=Vl(),$v=zl(),Ev=Gl(),wv=Xl(),Sv=Bl();function Ov(t=!1){let e=[vv.default,_v.default,$v.default,Ev.default,wv.default,Sv.default,pv.default,mv.default,hv.default,yv.default,gv.default];return t?e.push(uv.default,fv.default):e.push(cv.default,lv.default),e.push(dv.default),e}Ga.default=Ov});var Jl=y(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var le=q(),bv={message:({schemaCode:t})=>(0,le.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,le._)`{format: ${t}}`},Rv={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:bv,code(t,e){let{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:o}=t,{opts:c,errSchemaPath:f,schemaEnv:h,self:d}=o;if(!c.validateFormats)return;s?_():m();function _(){let $=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),E=r.const("fDef",(0,le._)`${$}[${a}]`),w=r.let("fType"),S=r.let("format");r.if((0,le._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(w,(0,le._)`${E}.type || "string"`).assign(S,(0,le._)`${E}.validate`),()=>r.assign(w,(0,le._)`"string"`).assign(S,E)),t.fail$data((0,le.or)(M(),D()));function M(){return c.strictSchema===!1?le.nil:(0,le._)`${a} && !${S}`}function D(){let B=h.$async?(0,le._)`(${E}.async ? await ${S}(${n}) : ${S}(${n}))`:(0,le._)`${S}(${n})`,N=(0,le._)`(typeof ${S} == "function" ? ${B} : ${S}.test(${n}))`;return(0,le._)`${S} && ${S} !== true && ${w} === ${e} && !${N}`}}function m(){let $=d.formats[i];if(!$){M();return}if($===!0)return;let[E,w,S]=D($);E===e&&t.pass(B());function M(){if(c.strictSchema===!1){d.logger.warn(N());return}throw new Error(N());function N(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function D(N){let xe=N instanceof RegExp?(0,le.regexpCode)(N):c.code.formats?(0,le._)`${c.code.formats}${(0,le.getProperty)(i)}`:void 0,Tt=r.scopeValue("formats",{key:i,ref:N,code:xe});return typeof N=="object"&&!(N instanceof RegExp)?[N.type||"string",N.validate,(0,le._)`${Tt}.validate`]:["string",N,Tt]}function B(){if(typeof $=="object"&&!($ instanceof RegExp)&&$.async){if(!h.$async)throw new Error("async format in sync schema");return(0,le._)`await ${S}(${n})`}return typeof w=="function"?(0,le._)`${S}(${n})`:(0,le._)`${S}.test(${n})`}}}};Ha.default=Rv});var Wl=y(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var Tv=Jl(),Nv=[Tv.default];Ka.default=Nv});var Zl=y(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.contentVocabulary=Dr.metadataVocabulary=void 0;Dr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Dr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var ef=y(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var Iv=ol(),Pv=El(),Av=Yl(),qv=Wl(),Ql=Zl(),Cv=[Iv.default,Pv.default,(0,Av.default)(),qv.default,Ql.metadataVocabulary,Ql.contentVocabulary];Xa.default=Cv});var tf=y(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.DiscrError=void 0;var Dv;(function(t){t.Tag="tag",t.Mapping="mapping"})(Dv=In.DiscrError||(In.DiscrError={}))});var nf=y(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});var jr=q(),Ba=tf(),rf=fs(),jv=z(),Lv={message:({params:{discrError:t,tagName:e}})=>t===Ba.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,jr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Mv={keyword:"discriminator",type:"object",schemaType:"object",error:Lv,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:i}=t,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),f=e.const("tag",(0,jr._)`${r}${(0,jr.getProperty)(o)}`);e.if((0,jr._)`typeof ${f} == "string"`,()=>h(),()=>t.error(!1,{discrError:Ba.DiscrError.Tag,tag:f,tagName:o})),t.ok(c);function h(){let m=_();e.if(!1);for(let $ in m)e.elseIf((0,jr._)`${f} === ${$}`),e.assign(c,d(m[$]));e.else(),t.error(!1,{discrError:Ba.DiscrError.Mapping,tag:f,tagName:o}),e.endIf()}function d(m){let $=e.name("valid"),E=t.subschema({keyword:"oneOf",schemaProp:m},$);return t.mergeEvaluated(E,jr.Name),$}function _(){var m;let $={},E=S(s),w=!0;for(let B=0;B<a.length;B++){let N=a[B];N!=null&&N.$ref&&!(0,jv.schemaHasRulesButRef)(N,i.self.RULES)&&(N=rf.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,N==null?void 0:N.$ref),N instanceof rf.SchemaEnv&&(N=N.schema));let xe=(m=N==null?void 0:N.properties)===null||m===void 0?void 0:m[o];if(typeof xe!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);w=w&&(E||S(N)),M(xe,B)}if(!w)throw new Error(`discriminator: "${o}" must be required`);return $;function S({required:B}){return Array.isArray(B)&&B.includes(o)}function M(B,N){if(B.const)D(B.const,N);else if(B.enum)for(let xe of B.enum)D(xe,N);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function D(B,N){if(typeof B!="string"||B in $)throw new Error(`discriminator: "${o}" values must be unique strings`);$[B]=N}}}};Ya.default=Mv});var sf=y((gO,Fv)=>{Fv.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Ja=y((ce,of)=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.MissingRefError=ce.ValidationError=ce.CodeGen=ce.Name=ce.nil=ce.stringify=ce.str=ce._=ce.KeywordCxt=void 0;var kv=tl(),xv=ef(),Uv=nf(),af=sf(),Vv=["/properties"],Ts="http://json-schema.org/draft-07/schema",Ns=class extends kv.default{_addVocabularies(){super._addVocabularies(),xv.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Uv.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(af,Vv):af;this.addMetaSchema(e,Ts,!1),this.refs["http://json-schema.org/schema"]=Ts}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Ts)?Ts:void 0)}};of.exports=ce=Ns;Object.defineProperty(ce,"__esModule",{value:!0});ce.default=Ns;var zv=yn();Object.defineProperty(ce,"KeywordCxt",{enumerable:!0,get:function(){return zv.KeywordCxt}});var Lr=q();Object.defineProperty(ce,"_",{enumerable:!0,get:function(){return Lr._}});Object.defineProperty(ce,"str",{enumerable:!0,get:function(){return Lr.str}});Object.defineProperty(ce,"stringify",{enumerable:!0,get:function(){return Lr.stringify}});Object.defineProperty(ce,"nil",{enumerable:!0,get:function(){return Lr.nil}});Object.defineProperty(ce,"Name",{enumerable:!0,get:function(){return Lr.Name}});Object.defineProperty(ce,"CodeGen",{enumerable:!0,get:function(){return Lr.CodeGen}});var Gv=cs();Object.defineProperty(ce,"ValidationError",{enumerable:!0,get:function(){return Gv.default}});var Hv=us();Object.defineProperty(ce,"MissingRefError",{enumerable:!0,get:function(){return Hv.default}})});var hf=y(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.formatNames=pt.fastFormats=pt.fullFormats=void 0;function Mr(t,e){return{validate:t,compare:e}}pt.fullFormats={date:Mr(lf,Qa),time:Mr(ff,eo),"date-time":Mr(Yv,df),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Zv,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:i_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Qv,int32:{type:"number",validate:r_},int64:{type:"number",validate:n_},float:{type:"number",validate:uf},double:{type:"number",validate:uf},password:!0,binary:!0};pt.fastFormats={...pt.fullFormats,date:Mr(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Qa),time:Mr(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,eo),"date-time":Mr(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,df),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};pt.formatNames=Object.keys(pt.fullFormats);function Kv(t){return t%4===0&&(t%100!==0||t%400===0)}var Xv=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Bv=[0,31,28,31,30,31,30,31,31,30,31,30,31];function lf(t){let e=Xv.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&Kv(r)?29:Bv[n])}function Qa(t,e){if(t&&e)return t>e?1:t<e?-1:0}var Wa=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function ff(t,e){let r=Wa.exec(t);if(!r)return!1;let n=+r[1],s=+r[2],i=+r[3],a=r[5];return(n<=23&&s<=59&&i<=59||n===23&&s===59&&i===60)&&(!e||a!=="")}function eo(t,e){if(!(t&&e))return;let r=Wa.exec(t),n=Wa.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var Za=/t|\s/i;function Yv(t){let e=t.split(Za);return e.length===2&&lf(e[0])&&ff(e[1],!0)}function df(t,e){if(!(t&&e))return;let[r,n]=t.split(Za),[s,i]=e.split(Za),a=Qa(r,s);if(a!==void 0)return a||eo(n,i)}var Jv=/\/|:/,Wv=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Zv(t){return Jv.test(t)&&Wv.test(t)}var cf=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Qv(t){return cf.lastIndex=0,cf.test(t)}var e_=-(2**31),t_=2**31-1;function r_(t){return Number.isInteger(t)&&t<=t_&&t>=e_}function n_(t){return Number.isInteger(t)}function uf(){return!0}var s_=/[^\\]\\Z/;function i_(t){if(s_.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var pf=y(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.formatLimitDefinition=void 0;var a_=Ja(),rt=q(),Ft=rt.operators,Is={formatMaximum:{okStr:"<=",ok:Ft.LTE,fail:Ft.GT},formatMinimum:{okStr:">=",ok:Ft.GTE,fail:Ft.LT},formatExclusiveMaximum:{okStr:"<",ok:Ft.LT,fail:Ft.GTE},formatExclusiveMinimum:{okStr:">",ok:Ft.GT,fail:Ft.LTE}},o_={message:({keyword:t,schemaCode:e})=>rt.str`should be ${Is[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>rt._`{comparison: ${Is[t].okStr}, limit: ${e}}`};Fr.formatLimitDefinition={keyword:Object.keys(Is),type:"string",schemaType:"string",$data:!0,error:o_,code(t){let{gen:e,data:r,schemaCode:n,keyword:s,it:i}=t,{opts:a,self:o}=i;if(!a.validateFormats)return;let c=new a_.KeywordCxt(i,o.RULES.all.format.definition,"format");c.$data?f():h();function f(){let _=e.scopeValue("formats",{ref:o.formats,code:a.code.formats}),m=e.const("fmt",rt._`${_}[${c.schemaCode}]`);t.fail$data(rt.or(rt._`typeof ${m} != "object"`,rt._`${m} instanceof RegExp`,rt._`typeof ${m}.compare != "function"`,d(m)))}function h(){let _=c.schema,m=o.formats[_];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${s}": format "${_}" does not define "compare" function`);let $=e.scopeValue("formats",{key:_,ref:m,code:a.code.formats?rt._`${a.code.formats}${rt.getProperty(_)}`:void 0});t.fail$data(d($))}function d(_){return rt._`${_}.compare(${r}, ${n}) ${Is[s].fail} 0`}},dependencies:["format"]};var c_=t=>(t.addKeyword(Fr.formatLimitDefinition),t);Fr.default=c_});var vf=y((Pn,gf)=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var kr=hf(),u_=pf(),to=q(),mf=new to.Name("fullFormats"),l_=new to.Name("fastFormats"),ro=(t,e={keywords:!0})=>{if(Array.isArray(e))return yf(t,e,kr.fullFormats,mf),t;let[r,n]=e.mode==="fast"?[kr.fastFormats,l_]:[kr.fullFormats,mf],s=e.formats||kr.formatNames;return yf(t,s,r,n),e.keywords&&u_.default(t),t};ro.get=(t,e="full")=>{let n=(e==="fast"?kr.fastFormats:kr.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function yf(t,e,r,n){var s,i;(s=(i=t.opts.code).formats)!==null&&s!==void 0||(i.formats=to._`require("ajv-formats/dist/formats").${n}`);for(let a of e)t.addFormat(a,r[a])}gf.exports=Pn=ro;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.default=ro});var $f=y(($O,_f)=>{"use strict";var f_=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!d_(s,i)&&n||Object.defineProperty(t,r,i)},d_=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},h_=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},p_=(t,e)=>`/* Wrapped ${t}*/
${e}`,m_=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),y_=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),g_=(t,e,r)=>{let n=r===""?"":`with ${r.trim()}() `,s=p_.bind(null,n,e.toString());Object.defineProperty(s,"name",y_),Object.defineProperty(t,"toString",{...m_,value:s})},v_=(t,e,{ignoreNonConfigurable:r=!1}={})=>{let{name:n}=t;for(let s of Reflect.ownKeys(e))f_(t,e,s,r);return h_(t,e),g_(t,e,n),t};_f.exports=v_});var wf=y((EO,Ef)=>{"use strict";var __=$f();Ef.exports=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);let{wait:r=0,before:n=!1,after:s=!0}=e;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let i,a,o=function(...c){let f=this,h=()=>{i=void 0,s&&(a=t.apply(f,c))},d=n&&!i;return clearTimeout(i),i=setTimeout(h,r),d&&(a=t.apply(f,c)),a};return __(o,t),o.cancel=()=>{i&&(clearTimeout(i),i=void 0)},o}});var An=y((wO,Sf)=>{var $_="2.0.0",E_=Number.MAX_SAFE_INTEGER||9007199254740991,w_=16;Sf.exports={SEMVER_SPEC_VERSION:$_,MAX_LENGTH:256,MAX_SAFE_INTEGER:E_,MAX_SAFE_COMPONENT_LENGTH:w_}});var qn=y((SO,Of)=>{var S_=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Of.exports=S_});var nr=y((kt,bf)=>{var{MAX_SAFE_COMPONENT_LENGTH:no}=An(),O_=qn();kt=bf.exports={};var b_=kt.re=[],b=kt.src=[],R=kt.t={},R_=0,C=(t,e,r)=>{let n=R_++;O_(t,n,e),R[t]=n,b[n]=e,b_[n]=new RegExp(e,r?"g":void 0)};C("NUMERICIDENTIFIER","0|[1-9]\\d*");C("NUMERICIDENTIFIERLOOSE","[0-9]+");C("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");C("MAINVERSION",`(${b[R.NUMERICIDENTIFIER]})\\.(${b[R.NUMERICIDENTIFIER]})\\.(${b[R.NUMERICIDENTIFIER]})`);C("MAINVERSIONLOOSE",`(${b[R.NUMERICIDENTIFIERLOOSE]})\\.(${b[R.NUMERICIDENTIFIERLOOSE]})\\.(${b[R.NUMERICIDENTIFIERLOOSE]})`);C("PRERELEASEIDENTIFIER",`(?:${b[R.NUMERICIDENTIFIER]}|${b[R.NONNUMERICIDENTIFIER]})`);C("PRERELEASEIDENTIFIERLOOSE",`(?:${b[R.NUMERICIDENTIFIERLOOSE]}|${b[R.NONNUMERICIDENTIFIER]})`);C("PRERELEASE",`(?:-(${b[R.PRERELEASEIDENTIFIER]}(?:\\.${b[R.PRERELEASEIDENTIFIER]})*))`);C("PRERELEASELOOSE",`(?:-?(${b[R.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${b[R.PRERELEASEIDENTIFIERLOOSE]})*))`);C("BUILDIDENTIFIER","[0-9A-Za-z-]+");C("BUILD",`(?:\\+(${b[R.BUILDIDENTIFIER]}(?:\\.${b[R.BUILDIDENTIFIER]})*))`);C("FULLPLAIN",`v?${b[R.MAINVERSION]}${b[R.PRERELEASE]}?${b[R.BUILD]}?`);C("FULL",`^${b[R.FULLPLAIN]}$`);C("LOOSEPLAIN",`[v=\\s]*${b[R.MAINVERSIONLOOSE]}${b[R.PRERELEASELOOSE]}?${b[R.BUILD]}?`);C("LOOSE",`^${b[R.LOOSEPLAIN]}$`);C("GTLT","((?:<|>)?=?)");C("XRANGEIDENTIFIERLOOSE",`${b[R.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);C("XRANGEIDENTIFIER",`${b[R.NUMERICIDENTIFIER]}|x|X|\\*`);C("XRANGEPLAIN",`[v=\\s]*(${b[R.XRANGEIDENTIFIER]})(?:\\.(${b[R.XRANGEIDENTIFIER]})(?:\\.(${b[R.XRANGEIDENTIFIER]})(?:${b[R.PRERELEASE]})?${b[R.BUILD]}?)?)?`);C("XRANGEPLAINLOOSE",`[v=\\s]*(${b[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${b[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${b[R.XRANGEIDENTIFIERLOOSE]})(?:${b[R.PRERELEASELOOSE]})?${b[R.BUILD]}?)?)?`);C("XRANGE",`^${b[R.GTLT]}\\s*${b[R.XRANGEPLAIN]}$`);C("XRANGELOOSE",`^${b[R.GTLT]}\\s*${b[R.XRANGEPLAINLOOSE]}$`);C("COERCE",`(^|[^\\d])(\\d{1,${no}})(?:\\.(\\d{1,${no}}))?(?:\\.(\\d{1,${no}}))?(?:$|[^\\d])`);C("COERCERTL",b[R.COERCE],!0);C("LONETILDE","(?:~>?)");C("TILDETRIM",`(\\s*)${b[R.LONETILDE]}\\s+`,!0);kt.tildeTrimReplace="$1~";C("TILDE",`^${b[R.LONETILDE]}${b[R.XRANGEPLAIN]}$`);C("TILDELOOSE",`^${b[R.LONETILDE]}${b[R.XRANGEPLAINLOOSE]}$`);C("LONECARET","(?:\\^)");C("CARETTRIM",`(\\s*)${b[R.LONECARET]}\\s+`,!0);kt.caretTrimReplace="$1^";C("CARET",`^${b[R.LONECARET]}${b[R.XRANGEPLAIN]}$`);C("CARETLOOSE",`^${b[R.LONECARET]}${b[R.XRANGEPLAINLOOSE]}$`);C("COMPARATORLOOSE",`^${b[R.GTLT]}\\s*(${b[R.LOOSEPLAIN]})$|^$`);C("COMPARATOR",`^${b[R.GTLT]}\\s*(${b[R.FULLPLAIN]})$|^$`);C("COMPARATORTRIM",`(\\s*)${b[R.GTLT]}\\s*(${b[R.LOOSEPLAIN]}|${b[R.XRANGEPLAIN]})`,!0);kt.comparatorTrimReplace="$1$2$3";C("HYPHENRANGE",`^\\s*(${b[R.XRANGEPLAIN]})\\s+-\\s+(${b[R.XRANGEPLAIN]})\\s*$`);C("HYPHENRANGELOOSE",`^\\s*(${b[R.XRANGEPLAINLOOSE]})\\s+-\\s+(${b[R.XRANGEPLAINLOOSE]})\\s*$`);C("STAR","(<|>)?=?\\s*\\*");C("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");C("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Cn=y((OO,Rf)=>{var T_=["includePrerelease","loose","rtl"],N_=t=>t?typeof t!="object"?{loose:!0}:T_.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Rf.exports=N_});var so=y((bO,If)=>{var Tf=/^[0-9]+$/,Nf=(t,e)=>{let r=Tf.test(t),n=Tf.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},I_=(t,e)=>Nf(e,t);If.exports={compareIdentifiers:Nf,rcompareIdentifiers:I_}});var we=y((RO,Cf)=>{var Ps=qn(),{MAX_LENGTH:Pf,MAX_SAFE_INTEGER:As}=An(),{re:Af,t:qf}=nr(),P_=Cn(),{compareIdentifiers:xr}=so(),ke=class{constructor(e,r){if(r=P_(r),e instanceof ke){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Pf)throw new TypeError(`version is longer than ${Pf} characters`);Ps("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Af[qf.LOOSE]:Af[qf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>As||this.major<0)throw new TypeError("Invalid major version");if(this.minor>As||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>As||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<As)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ps("SemVer.compare",this.version,this.options,e),!(e instanceof ke)){if(typeof e=="string"&&e===this.version)return 0;e=new ke(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ke||(e=new ke(e,this.options)),xr(this.major,e.major)||xr(this.minor,e.minor)||xr(this.patch,e.patch)}comparePre(e){if(e instanceof ke||(e=new ke(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(Ps("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return xr(n,s)}while(++r)}compareBuild(e){e instanceof ke||(e=new ke(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(Ps("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return xr(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(xr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Cf.exports=ke});var sr=y((TO,Mf)=>{var{MAX_LENGTH:A_}=An(),{re:Df,t:jf}=nr(),Lf=we(),q_=Cn(),C_=(t,e)=>{if(e=q_(e),t instanceof Lf)return t;if(typeof t!="string"||t.length>A_||!(e.loose?Df[jf.LOOSE]:Df[jf.FULL]).test(t))return null;try{return new Lf(t,e)}catch{return null}};Mf.exports=C_});var kf=y((NO,Ff)=>{var D_=sr(),j_=(t,e)=>{let r=D_(t,e);return r?r.version:null};Ff.exports=j_});var Uf=y((IO,xf)=>{var L_=sr(),M_=(t,e)=>{let r=L_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};xf.exports=M_});var Gf=y((PO,zf)=>{var Vf=we(),F_=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Vf(t instanceof Vf?t.version:t,r).inc(e,n).version}catch{return null}};zf.exports=F_});var Be=y((AO,Kf)=>{var Hf=we(),k_=(t,e,r)=>new Hf(t,r).compare(new Hf(e,r));Kf.exports=k_});var qs=y((qO,Xf)=>{var x_=Be(),U_=(t,e,r)=>x_(t,e,r)===0;Xf.exports=U_});var Jf=y((CO,Yf)=>{var Bf=sr(),V_=qs(),z_=(t,e)=>{if(V_(t,e))return null;{let r=Bf(t),n=Bf(e),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",a=s?"prerelease":"";for(let o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return a}};Yf.exports=z_});var Zf=y((DO,Wf)=>{var G_=we(),H_=(t,e)=>new G_(t,e).major;Wf.exports=H_});var ed=y((jO,Qf)=>{var K_=we(),X_=(t,e)=>new K_(t,e).minor;Qf.exports=X_});var rd=y((LO,td)=>{var B_=we(),Y_=(t,e)=>new B_(t,e).patch;td.exports=Y_});var sd=y((MO,nd)=>{var J_=sr(),W_=(t,e)=>{let r=J_(t,e);return r&&r.prerelease.length?r.prerelease:null};nd.exports=W_});var ad=y((FO,id)=>{var Z_=Be(),Q_=(t,e,r)=>Z_(e,t,r);id.exports=Q_});var cd=y((kO,od)=>{var e$=Be(),t$=(t,e)=>e$(t,e,!0);od.exports=t$});var Cs=y((xO,ld)=>{var ud=we(),r$=(t,e,r)=>{let n=new ud(t,r),s=new ud(e,r);return n.compare(s)||n.compareBuild(s)};ld.exports=r$});var dd=y((UO,fd)=>{var n$=Cs(),s$=(t,e)=>t.sort((r,n)=>n$(r,n,e));fd.exports=s$});var pd=y((VO,hd)=>{var i$=Cs(),a$=(t,e)=>t.sort((r,n)=>i$(n,r,e));hd.exports=a$});var Dn=y((zO,md)=>{var o$=Be(),c$=(t,e,r)=>o$(t,e,r)>0;md.exports=c$});var Ds=y((GO,yd)=>{var u$=Be(),l$=(t,e,r)=>u$(t,e,r)<0;yd.exports=l$});var io=y((HO,gd)=>{var f$=Be(),d$=(t,e,r)=>f$(t,e,r)!==0;gd.exports=d$});var js=y((KO,vd)=>{var h$=Be(),p$=(t,e,r)=>h$(t,e,r)>=0;vd.exports=p$});var Ls=y((XO,_d)=>{var m$=Be(),y$=(t,e,r)=>m$(t,e,r)<=0;_d.exports=y$});var ao=y((BO,$d)=>{var g$=qs(),v$=io(),_$=Dn(),$$=js(),E$=Ds(),w$=Ls(),S$=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return g$(t,r,n);case"!=":return v$(t,r,n);case">":return _$(t,r,n);case">=":return $$(t,r,n);case"<":return E$(t,r,n);case"<=":return w$(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};$d.exports=S$});var wd=y((YO,Ed)=>{var O$=we(),b$=sr(),{re:Ms,t:Fs}=nr(),R$=(t,e)=>{if(t instanceof O$)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ms[Fs.COERCE]);else{let n;for(;(n=Ms[Fs.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ms[Fs.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ms[Fs.COERCERTL].lastIndex=-1}return r===null?null:b$(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Ed.exports=R$});var Od=y((JO,Sd)=>{"use strict";Sd.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Rd=y((WO,bd)=>{"use strict";bd.exports=H;H.Node=ir;H.create=H;function H(t){var e=this;if(e instanceof H||(e=new H),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}H.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};H.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};H.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};H.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)N$(this,arguments[t]);return this.length};H.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)I$(this,arguments[t]);return this.length};H.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};H.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};H.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};H.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};H.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};H.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};H.prototype.map=function(t,e){e=e||this;for(var r=new H,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};H.prototype.mapReverse=function(t,e){e=e||this;for(var r=new H,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};H.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};H.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};H.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};H.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};H.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new H;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};H.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new H;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};H.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=T$(this,s,r[n]);return i};H.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function T$(t,e,r){var n=e===t.head?new ir(r,null,e,t):new ir(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function N$(t,e){t.tail=new ir(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function I$(t,e){t.head=new ir(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ir(t,e,r,n){if(!(this instanceof ir))return new ir(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Od()(H)}catch{}});var Ad=y((ZO,Pd)=>{"use strict";var P$=Rd(),ar=Symbol("max"),Rt=Symbol("length"),Ur=Symbol("lengthCalculator"),Ln=Symbol("allowStale"),or=Symbol("maxAge"),bt=Symbol("dispose"),Td=Symbol("noDisposeOnSet"),pe=Symbol("lruList"),nt=Symbol("cache"),Id=Symbol("updateAgeOnGet"),oo=()=>1,uo=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[ar]=e.max||1/0,n=e.length||oo;if(this[Ur]=typeof n!="function"?oo:n,this[Ln]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[or]=e.maxAge||0,this[bt]=e.dispose,this[Td]=e.noDisposeOnSet||!1,this[Id]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ar]=e||1/0,jn(this)}get max(){return this[ar]}set allowStale(e){this[Ln]=!!e}get allowStale(){return this[Ln]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[or]=e,jn(this)}get maxAge(){return this[or]}set lengthCalculator(e){typeof e!="function"&&(e=oo),e!==this[Ur]&&(this[Ur]=e,this[Rt]=0,this[pe].forEach(r=>{r.length=this[Ur](r.value,r.key),this[Rt]+=r.length})),jn(this)}get lengthCalculator(){return this[Ur]}get length(){return this[Rt]}get itemCount(){return this[pe].length}rforEach(e,r){r=r||this;for(let n=this[pe].tail;n!==null;){let s=n.prev;Nd(this,e,n,r),n=s}}forEach(e,r){r=r||this;for(let n=this[pe].head;n!==null;){let s=n.next;Nd(this,e,n,r),n=s}}keys(){return this[pe].toArray().map(e=>e.key)}values(){return this[pe].toArray().map(e=>e.value)}reset(){this[bt]&&this[pe]&&this[pe].length&&this[pe].forEach(e=>this[bt](e.key,e.value)),this[nt]=new Map,this[pe]=new P$,this[Rt]=0}dump(){return this[pe].map(e=>ks(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[pe]}set(e,r,n){if(n=n||this[or],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Ur](r,e);if(this[nt].has(e)){if(i>this[ar])return Vr(this,this[nt].get(e)),!1;let c=this[nt].get(e).value;return this[bt]&&(this[Td]||this[bt](e,c.value)),c.now=s,c.maxAge=n,c.value=r,this[Rt]+=i-c.length,c.length=i,this.get(e),jn(this),!0}let a=new lo(e,r,i,s,n);return a.length>this[ar]?(this[bt]&&this[bt](e,r),!1):(this[Rt]+=a.length,this[pe].unshift(a),this[nt].set(e,this[pe].head),jn(this),!0)}has(e){if(!this[nt].has(e))return!1;let r=this[nt].get(e).value;return!ks(this,r)}get(e){return co(this,e,!0)}peek(e){return co(this,e,!1)}pop(){let e=this[pe].tail;return e?(Vr(this,e),e.value):null}del(e){Vr(this,this[nt].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let a=i-r;a>0&&this.set(s.k,s.v,a)}}}prune(){this[nt].forEach((e,r)=>co(this,r,!1))}},co=(t,e,r)=>{let n=t[nt].get(e);if(n){let s=n.value;if(ks(t,s)){if(Vr(t,n),!t[Ln])return}else r&&(t[Id]&&(n.value.now=Date.now()),t[pe].unshiftNode(n));return s.value}},ks=(t,e)=>{if(!e||!e.maxAge&&!t[or])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[or]&&r>t[or]},jn=t=>{if(t[Rt]>t[ar])for(let e=t[pe].tail;t[Rt]>t[ar]&&e!==null;){let r=e.prev;Vr(t,e),e=r}},Vr=(t,e)=>{if(e){let r=e.value;t[bt]&&t[bt](r.key,r.value),t[Rt]-=r.length,t[nt].delete(r.key),t[pe].removeNode(e)}},lo=class{constructor(e,r,n,s,i){this.key=e,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}},Nd=(t,e,r,n)=>{let s=r.value;ks(t,s)&&(Vr(t,r),t[Ln]||(s=void 0)),s&&e.call(n,s.value,s.key,t)};Pd.exports=uo});var Ye=y((QO,jd)=>{var cr=class{constructor(e,r){if(r=q$(r),e instanceof cr)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new cr(e.raw,r);if(e instanceof fo)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Cd(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&M$(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=qd.get(n);if(s)return s;let i=this.options.loose,a=i?De[Ne.HYPHENRANGELOOSE]:De[Ne.HYPHENRANGE];e=e.replace(a,X$(this.options.includePrerelease)),ue("hyphen replace",e),e=e.replace(De[Ne.COMPARATORTRIM],D$),ue("comparator trim",e),e=e.replace(De[Ne.TILDETRIM],j$),e=e.replace(De[Ne.CARETTRIM],L$),e=e.split(/\s+/).join(" ");let o=e.split(" ").map(d=>F$(d,this.options)).join(" ").split(/\s+/).map(d=>K$(d,this.options));i&&(o=o.filter(d=>(ue("loose invalid filter",d,this.options),!!d.match(De[Ne.COMPARATORLOOSE])))),ue("range list",o);let c=new Map,f=o.map(d=>new fo(d,this.options));for(let d of f){if(Cd(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let h=[...c.values()];return qd.set(n,h),h}intersects(e,r){if(!(e instanceof cr))throw new TypeError("a Range is required");return this.set.some(n=>Dd(n,r)&&e.set.some(s=>Dd(s,r)&&n.every(i=>s.every(a=>i.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new C$(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(B$(this.set[r],e,this.options))return!0;return!1}};jd.exports=cr;var A$=Ad(),qd=new A$({max:1e3}),q$=Cn(),fo=Mn(),ue=qn(),C$=we(),{re:De,t:Ne,comparatorTrimReplace:D$,tildeTrimReplace:j$,caretTrimReplace:L$}=nr(),Cd=t=>t.value==="<0.0.0-0",M$=t=>t.value==="",Dd=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,e)),s=n.pop();return r},F$=(t,e)=>(ue("comp",t,e),t=U$(t,e),ue("caret",t),t=k$(t,e),ue("tildes",t),t=z$(t,e),ue("xrange",t),t=H$(t,e),ue("stars",t),t),Ie=t=>!t||t.toLowerCase()==="x"||t==="*",k$=(t,e)=>t.trim().split(/\s+/).map(r=>x$(r,e)).join(" "),x$=(t,e)=>{let r=e.loose?De[Ne.TILDELOOSE]:De[Ne.TILDE];return t.replace(r,(n,s,i,a,o)=>{ue("tilde",t,n,s,i,a,o);let c;return Ie(s)?c="":Ie(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:Ie(a)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:o?(ue("replaceTilde pr",o),c=`>=${s}.${i}.${a}-${o} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${a} <${s}.${+i+1}.0-0`,ue("tilde return",c),c})},U$=(t,e)=>t.trim().split(/\s+/).map(r=>V$(r,e)).join(" "),V$=(t,e)=>{ue("caret",t,e);let r=e.loose?De[Ne.CARETLOOSE]:De[Ne.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,i,a,o,c)=>{ue("caret",t,s,i,a,o,c);let f;return Ie(i)?f="":Ie(a)?f=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Ie(o)?i==="0"?f=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:f=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:c?(ue("replaceCaret pr",c),i==="0"?a==="0"?f=`>=${i}.${a}.${o}-${c} <${i}.${a}.${+o+1}-0`:f=`>=${i}.${a}.${o}-${c} <${i}.${+a+1}.0-0`:f=`>=${i}.${a}.${o}-${c} <${+i+1}.0.0-0`):(ue("no pr"),i==="0"?a==="0"?f=`>=${i}.${a}.${o}${n} <${i}.${a}.${+o+1}-0`:f=`>=${i}.${a}.${o}${n} <${i}.${+a+1}.0-0`:f=`>=${i}.${a}.${o} <${+i+1}.0.0-0`),ue("caret return",f),f})},z$=(t,e)=>(ue("replaceXRanges",t,e),t.split(/\s+/).map(r=>G$(r,e)).join(" ")),G$=(t,e)=>{t=t.trim();let r=e.loose?De[Ne.XRANGELOOSE]:De[Ne.XRANGE];return t.replace(r,(n,s,i,a,o,c)=>{ue("xRange",t,n,s,i,a,o,c);let f=Ie(i),h=f||Ie(a),d=h||Ie(o),_=d;return s==="="&&_&&(s=""),c=e.includePrerelease?"-0":"",f?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&_?(h&&(a=0),o=0,s===">"?(s=">=",h?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):s==="<="&&(s="<",h?i=+i+1:a=+a+1),s==="<"&&(c="-0"),n=`${s+i}.${a}.${o}${c}`):h?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${c} <${i}.${+a+1}.0-0`),ue("xRange return",n),n})},H$=(t,e)=>(ue("replaceStars",t,e),t.trim().replace(De[Ne.STAR],"")),K$=(t,e)=>(ue("replaceGTE0",t,e),t.trim().replace(De[e.includePrerelease?Ne.GTE0PRE:Ne.GTE0],"")),X$=t=>(e,r,n,s,i,a,o,c,f,h,d,_,m)=>(Ie(n)?r="":Ie(s)?r=`>=${n}.0.0${t?"-0":""}`:Ie(i)?r=`>=${n}.${s}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ie(f)?c="":Ie(h)?c=`<${+f+1}.0.0-0`:Ie(d)?c=`<${f}.${+h+1}.0-0`:_?c=`<=${f}.${h}.${d}-${_}`:t?c=`<${f}.${h}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),B$=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(ue(t[n].semver),t[n].semver!==fo.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Mn=y((eb,xd)=>{var Fn=Symbol("SemVer ANY"),zr=class{static get ANY(){return Fn}constructor(e,r){if(r=Y$(r),e instanceof zr){if(e.loose===!!r.loose)return e;e=e.value}po("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Fn?this.value="":this.value=this.operator+this.semver.version,po("comp",this)}parse(e){let r=this.options.loose?Ld[Md.COMPARATORLOOSE]:Ld[Md.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Fd(n[2],this.options.loose):this.semver=Fn}toString(){return this.value}test(e){if(po("Comparator.test",e,this.options.loose),this.semver===Fn||e===Fn)return!0;if(typeof e=="string")try{e=new Fd(e,this.options)}catch{return!1}return ho(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof zr))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new kd(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new kd(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),o=ho(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=ho(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||i&&a||o||c}};xd.exports=zr;var Y$=Cn(),{re:Ld,t:Md}=nr(),ho=ao(),po=qn(),Fd=we(),kd=Ye()});var kn=y((tb,Ud)=>{var J$=Ye(),W$=(t,e,r)=>{try{e=new J$(e,r)}catch{return!1}return e.test(t)};Ud.exports=W$});var zd=y((rb,Vd)=>{var Z$=Ye(),Q$=(t,e)=>new Z$(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Vd.exports=Q$});var Hd=y((nb,Gd)=>{var eE=we(),tE=Ye(),rE=(t,e,r)=>{let n=null,s=null,i=null;try{i=new tE(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new eE(n,r))}),n};Gd.exports=rE});var Xd=y((sb,Kd)=>{var nE=we(),sE=Ye(),iE=(t,e,r)=>{let n=null,s=null,i=null;try{i=new sE(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new nE(n,r))}),n};Kd.exports=iE});var Jd=y((ib,Yd)=>{var mo=we(),aE=Ye(),Bd=Dn(),oE=(t,e)=>{t=new aE(t,e);let r=new mo("0.0.0");if(t.test(r)||(r=new mo("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],i=null;s.forEach(a=>{let o=new mo(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||Bd(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||Bd(r,i))&&(r=i)}return r&&t.test(r)?r:null};Yd.exports=oE});var Zd=y((ab,Wd)=>{var cE=Ye(),uE=(t,e)=>{try{return new cE(t,e).range||"*"}catch{return null}};Wd.exports=uE});var xs=y((ob,rh)=>{var lE=we(),th=Mn(),{ANY:fE}=th,dE=Ye(),hE=kn(),Qd=Dn(),eh=Ds(),pE=Ls(),mE=js(),yE=(t,e,r,n)=>{t=new lE(t,n),e=new dE(e,n);let s,i,a,o,c;switch(r){case">":s=Qd,i=pE,a=eh,o=">",c=">=";break;case"<":s=eh,i=mE,a=Qd,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hE(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let h=e.set[f],d=null,_=null;if(h.forEach(m=>{m.semver===fE&&(m=new th(">=0.0.0")),d=d||m,_=_||m,s(m.semver,d.semver,n)?d=m:a(m.semver,_.semver,n)&&(_=m)}),d.operator===o||d.operator===c||(!_.operator||_.operator===o)&&i(t,_.semver))return!1;if(_.operator===c&&a(t,_.semver))return!1}return!0};rh.exports=yE});var sh=y((cb,nh)=>{var gE=xs(),vE=(t,e,r)=>gE(t,e,">",r);nh.exports=vE});var ah=y((ub,ih)=>{var _E=xs(),$E=(t,e,r)=>_E(t,e,"<",r);ih.exports=$E});var uh=y((lb,ch)=>{var oh=Ye(),EE=(t,e,r)=>(t=new oh(t,r),e=new oh(e,r),t.intersects(e));ch.exports=EE});var fh=y((fb,lh)=>{var wE=kn(),SE=Be();lh.exports=(t,e,r)=>{let n=[],s=null,i=null,a=t.sort((h,d)=>SE(h,d,r));for(let h of a)wE(h,e,r)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let o=[];for(let[h,d]of n)h===d?o.push(h):!d&&h===a[0]?o.push("*"):d?h===a[0]?o.push(`<=${d}`):o.push(`${h} - ${d}`):o.push(`>=${h}`);let c=o.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return c.length<f.length?c:e}});var yh=y((db,mh)=>{var dh=Ye(),Us=Mn(),{ANY:yo}=Us,xn=kn(),go=Be(),OE=(t,e,r={})=>{if(t===e)return!0;t=new dh(t,r),e=new dh(e,r);let n=!1;e:for(let s of t.set){for(let i of e.set){let a=bE(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},bE=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===yo){if(e.length===1&&e[0].semver===yo)return!0;r.includePrerelease?t=[new Us(">=0.0.0-0")]:t=[new Us(">=0.0.0")]}if(e.length===1&&e[0].semver===yo){if(r.includePrerelease)return!0;e=[new Us(">=0.0.0")]}let n=new Set,s,i;for(let m of t)m.operator===">"||m.operator===">="?s=hh(s,m,r):m.operator==="<"||m.operator==="<="?i=ph(i,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(s&&i){if(a=go(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let m of n){if(s&&!xn(m,String(s),r)||i&&!xn(m,String(i),r))return null;for(let $ of e)if(!xn(m,String($),r))return!1;return!0}let o,c,f,h,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,_=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of e){if(h=h||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",s){if(_&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===_.major&&m.semver.minor===_.minor&&m.semver.patch===_.patch&&(_=!1),m.operator===">"||m.operator===">="){if(o=hh(s,m,r),o===m&&o!==s)return!1}else if(s.operator===">="&&!xn(s.semver,String(m),r))return!1}if(i){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=ph(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!xn(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&a!==0)return!1}return!(s&&f&&!i&&a!==0||i&&h&&!s&&a!==0||_||d)},hh=(t,e,r)=>{if(!t)return e;let n=go(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},ph=(t,e,r)=>{if(!t)return e;let n=go(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};mh.exports=OE});var _h=y((hb,vh)=>{var vo=nr(),RE=An(),TE=we(),gh=so(),NE=sr(),IE=kf(),PE=Uf(),AE=Gf(),qE=Jf(),CE=Zf(),DE=ed(),jE=rd(),LE=sd(),ME=Be(),FE=ad(),kE=cd(),xE=Cs(),UE=dd(),VE=pd(),zE=Dn(),GE=Ds(),HE=qs(),KE=io(),XE=js(),BE=Ls(),YE=ao(),JE=wd(),WE=Mn(),ZE=Ye(),QE=kn(),ew=zd(),tw=Hd(),rw=Xd(),nw=Jd(),sw=Zd(),iw=xs(),aw=sh(),ow=ah(),cw=uh(),uw=fh(),lw=yh();vh.exports={parse:NE,valid:IE,clean:PE,inc:AE,diff:qE,major:CE,minor:DE,patch:jE,prerelease:LE,compare:ME,rcompare:FE,compareLoose:kE,compareBuild:xE,sort:UE,rsort:VE,gt:zE,lt:GE,eq:HE,neq:KE,gte:XE,lte:BE,cmp:YE,coerce:JE,Comparator:WE,Range:ZE,satisfies:QE,toComparators:ew,maxSatisfying:tw,minSatisfying:rw,minVersion:nw,validRange:sw,outside:iw,gtr:aw,ltr:ow,intersects:cw,simplifyRange:uw,subset:lw,SemVer:TE,re:vo.re,src:vo.src,tokens:vo.t,SEMVER_SPEC_VERSION:RE.SEMVER_SPEC_VERSION,compareIdentifiers:gh.compareIdentifiers,rcompareIdentifiers:gh.rcompareIdentifiers}});var Eh=y((pb,_o)=>{"use strict";var $h=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};_o.exports=$h;_o.exports.default=$h});var Sh=y((mb,zs)=>{"use strict";var fw=Eh(),Vs=new WeakMap,wh=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,s=t.displayName||t.name||"<anonymous>",i=function(...a){if(Vs.set(i,++n),n===1)r=t.apply(this,a),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return fw(i,t),Vs.set(i,n),i};zs.exports=wh;zs.exports.default=wh;zs.exports.callCount=t=>{if(!Vs.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Vs.get(t)}});var Rh=y((lr,Ks)=>{"use strict";var Gs=lr&&lr.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ne=lr&&lr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},$o,Eo,ur,mt,Je,xt;Object.defineProperty(lr,"__esModule",{value:!0});var dw=require("util"),Ut=require("fs"),Oo=require("path"),Gr=require("crypto"),hw=require("assert"),pw=require("events"),Un=ac(),mw=wc(),yw=bc(),gw=zc(),vw=Ja(),_w=vf(),Oh=wf(),Hr=_h(),$w=Sh(),wo="aes-256-cbc",Kr=()=>Object.create(null),Ew=t=>t!=null,bh="";try{delete require.cache[__filename],bh=Oo.dirname((Eo=($o=Ks.parent)===null||$o===void 0?void 0:$o.filename)!==null&&Eo!==void 0?Eo:".")}catch{}var ww=(t,e)=>{let r=new Set(["undefined","symbol","function"]),n=typeof e;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${t}\` is not allowed as it's not supported by JSON`)},Hs="__internal__",So=`${Hs}.migrations.version`,Vn=class{constructor(e={}){var r;ur.set(this,void 0),mt.set(this,void 0),Je.set(this,void 0),xt.set(this,{}),this._deserialize=c=>JSON.parse(c),this._serialize=c=>JSON.stringify(c,void 0,"	");let n={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...e},s=$w(()=>{let c=mw.sync({cwd:bh}),f=c&&JSON.parse(Ut.readFileSync(c,"utf8"));return f??{}});if(!n.cwd){if(n.projectName||(n.projectName=s().name),!n.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");n.cwd=yw(n.projectName,{suffix:n.projectSuffix}).config}if(Gs(this,Je,n,"f"),n.schema){if(typeof n.schema!="object")throw new TypeError("The `schema` option must be an object.");let c=new vw.default({allErrors:!0,useDefaults:!0});(0,_w.default)(c);let f={type:"object",properties:n.schema};Gs(this,ur,c.compile(f),"f");for(let[h,d]of Object.entries(n.schema))d!=null&&d.default&&(ne(this,xt,"f")[h]=d.default)}n.defaults&&Gs(this,xt,{...ne(this,xt,"f"),...n.defaults},"f"),n.serialize&&(this._serialize=n.serialize),n.deserialize&&(this._deserialize=n.deserialize),this.events=new pw.EventEmitter,Gs(this,mt,n.encryptionKey,"f");let i=n.fileExtension?`.${n.fileExtension}`:"";this.path=Oo.resolve(n.cwd,`${(r=n.configName)!==null&&r!==void 0?r:"config"}${i}`);let a=this.store,o=Object.assign(Kr(),n.defaults,a);this._validate(o);try{hw.deepEqual(a,o)}catch{this.store=o}if(n.watch&&this._watch(),n.migrations){if(n.projectVersion||(n.projectVersion=s().version),!n.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(n.migrations,n.projectVersion,n.beforeEachMigration)}}get(e,r){if(ne(this,Je,"f").accessPropertiesByDotNotation)return this._get(e,r);let{store:n}=this;return e in n?n[e]:r}set(e,r){if(typeof e!="string"&&typeof e!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if(typeof e!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(e))throw new TypeError(`Please don't use the ${Hs} key, as it's used to manage this module internal operations.`);let{store:n}=this,s=(i,a)=>{ww(i,a),ne(this,Je,"f").accessPropertiesByDotNotation?Un.set(n,i,a):n[i]=a};if(typeof e=="object"){let i=e;for(let[a,o]of Object.entries(i))s(a,o)}else s(e,r);this.store=n}has(e){return ne(this,Je,"f").accessPropertiesByDotNotation?Un.has(this.store,e):e in this.store}reset(...e){for(let r of e)Ew(ne(this,xt,"f")[r])&&this.set(r,ne(this,xt,"f")[r])}delete(e){let{store:r}=this;ne(this,Je,"f").accessPropertiesByDotNotation?Un.delete(r,e):delete r[e],this.store=r}clear(){this.store=Kr();for(let e of Object.keys(ne(this,xt,"f")))this.reset(e)}onDidChange(e,r){if(typeof e!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleChange(()=>this.get(e),r)}onDidAnyChange(e){if(typeof e!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`);return this._handleChange(()=>this.store,e)}get size(){return Object.keys(this.store).length}get store(){try{let e=Ut.readFileSync(this.path,ne(this,mt,"f")?null:"utf8"),r=this._encryptData(e),n=this._deserialize(r);return this._validate(n),Object.assign(Kr(),n)}catch(e){if((e==null?void 0:e.code)==="ENOENT")return this._ensureDirectory(),Kr();if(ne(this,Je,"f").clearInvalidConfig&&e.name==="SyntaxError")return Kr();throw e}}set store(e){this._ensureDirectory(),this._validate(e),this._write(e),this.events.emit("change")}*[(ur=new WeakMap,mt=new WeakMap,Je=new WeakMap,xt=new WeakMap,Symbol.iterator)](){for(let[e,r]of Object.entries(this.store))yield[e,r]}_encryptData(e){if(!ne(this,mt,"f"))return e.toString();try{if(ne(this,mt,"f"))try{if(e.slice(16,17).toString()===":"){let r=e.slice(0,16),n=Gr.pbkdf2Sync(ne(this,mt,"f"),r.toString(),1e4,32,"sha512"),s=Gr.createDecipheriv(wo,n,r);e=Buffer.concat([s.update(Buffer.from(e.slice(17))),s.final()]).toString("utf8")}else{let r=Gr.createDecipher(wo,ne(this,mt,"f"));e=Buffer.concat([r.update(Buffer.from(e)),r.final()]).toString("utf8")}}catch{}}catch{}return e.toString()}_handleChange(e,r){let n=e(),s=()=>{let i=n,a=e();(0,dw.isDeepStrictEqual)(a,i)||(n=a,r.call(this,a,i))};return this.events.on("change",s),()=>this.events.removeListener("change",s)}_validate(e){if(!ne(this,ur,"f")||ne(this,ur,"f").call(this,e)||!ne(this,ur,"f").errors)return;let n=ne(this,ur,"f").errors.map(({instancePath:s,message:i=""})=>`\`${s.slice(1)}\` ${i}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){Ut.mkdirSync(Oo.dirname(this.path),{recursive:!0})}_write(e){let r=this._serialize(e);if(ne(this,mt,"f")){let n=Gr.randomBytes(16),s=Gr.pbkdf2Sync(ne(this,mt,"f"),n.toString(),1e4,32,"sha512"),i=Gr.createCipheriv(wo,s,n);r=Buffer.concat([n,Buffer.from(":"),i.update(Buffer.from(r)),i.final()])}if(process.env.SNAP)Ut.writeFileSync(this.path,r,{mode:ne(this,Je,"f").configFileMode});else try{gw.writeFileSync(this.path,r,{mode:ne(this,Je,"f").configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){Ut.writeFileSync(this.path,r,{mode:ne(this,Je,"f").configFileMode});return}throw n}}_watch(){this._ensureDirectory(),Ut.existsSync(this.path)||this._write(Kr()),process.platform==="win32"?Ut.watch(this.path,{persistent:!1},Oh(()=>{this.events.emit("change")},{wait:100})):Ut.watchFile(this.path,{persistent:!1},Oh(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(e,r,n){let s=this._get(So,"0.0.0"),i=Object.keys(e).filter(o=>this._shouldPerformMigration(o,s,r)),a={...this.store};for(let o of i)try{n&&n(this,{fromVersion:s,toVersion:o,finalVersion:r,versions:i});let c=e[o];c(this),this._set(So,o),s=o,a={...this.store}}catch(c){throw this.store=a,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${c}`)}(this._isVersionInRangeFormat(s)||!Hr.eq(s,r))&&this._set(So,r)}_containsReservedKey(e){return typeof e=="object"&&Object.keys(e)[0]===Hs?!0:typeof e!="string"?!1:ne(this,Je,"f").accessPropertiesByDotNotation?!!e.startsWith(`${Hs}.`):!1}_isVersionInRangeFormat(e){return Hr.clean(e)===null}_shouldPerformMigration(e,r,n){return this._isVersionInRangeFormat(e)?r!=="0.0.0"&&Hr.satisfies(r,e)?!1:Hr.satisfies(n,e):!(Hr.lte(e,r)||Hr.gt(e,n))}_get(e,r){return Un.get(this.store,e,r)}_set(e,r){let{store:n}=this;Un.set(n,e,r),this.store=n}};lr.default=Vn;Ks.exports=Vn;Ks.exports.default=Vn});var qh=y((yb,Ah)=>{"use strict";var Th=require("path"),{app:Xs,ipcMain:bo,ipcRenderer:Nh,shell:Sw}=require("electron"),Ow=Rh(),Ih=!1,Ph=()=>{if(!bo||!Xs)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");let t={defaultCwd:Xs.getPath("userData"),appVersion:Xs.getVersion()};return Ih||(bo.on("electron-store-get-data",e=>{e.returnValue=t}),Ih=!0),t},Ro=class extends Ow{constructor(e){let r,n;if(Nh){let s=Nh.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else bo&&Xs&&({defaultCwd:r,appVersion:n}=Ph());e={name:"config",...e},e.projectVersion||(e.projectVersion=n),e.cwd?e.cwd=Th.isAbsolute(e.cwd)?e.cwd:Th.join(r,e.cwd):e.cwd=r,e.configName=e.name,delete e.name,super(e)}static initRenderer(){Ph()}openInEditor(){Sw.openPath(this.path)}};Ah.exports=Ro});var Bs=require("electron"),Ch=ti(Zo()),Dh=ti(require("path"));var ut=require("electron");var Qo=require("electron"),ec=[{label:"\u6587\u4EF6",submenu:[{label:"\u65B0\u5EFA",accelerator:"CmdOrCtrl+N",click:(t,e,r)=>{e==null||e.webContents.send("create-new-file")}},{label:"\u4FDD\u5B58",accelerator:"CmdOrCtrl+S",click:(t,e,r)=>{e==null||e.webContents.send("save-edit-file")}},{label:"\u641C\u7D22",accelerator:"CmdOrCtrl+F",click:(t,e,r)=>{e==null||e.webContents.send("search-file")}},{label:"\u5BFC\u5165",accelerator:"CmdOrCtrl+O",click:(t,e,r)=>{e==null||e.webContents.send("import-file")}}]},{label:"\u89C6\u56FE",submenu:[{label:"\u5237\u65B0\u5F53\u524D\u9875\u9762",accelerator:"CmdOrCtrl+R",click:(t,e)=>{e==null||e.webContents.reload()}},{label:"\u5207\u6362\u5168\u5C4F\u5E55",accelerator:(()=>process.platform==="darwin"?"Ctrl+Command+F":"F11")(),click:(t,e)=>{e==null||e.setFullScreen(!e.isFullScreen())}},{label:"\u5207\u6362\u5F00\u53D1\u8005\u5DE5\u5177",accelerator:function(){return process.platform==="darwin"?"Alt+Command+I":"Ctrl+Shift+I"}(),click:(t,e)=>{e==null||e.webContents.toggleDevTools()}}]},{label:"\u7A97\u53E3",role:"window",submenu:[{label:"\u6700\u5C0F\u5316",accelerator:"CmdOrCtrl+M",role:"minimize"},{label:"\u5173\u95ED",accelerator:"CmdOrCtrl+W",role:"close"}]},{label:"\u5E2E\u52A9",role:"help",submenu:[{label:"\u5B66\u4E60\u66F4\u591A",click:()=>{Qo.shell.openExternal("http://electron.atom.io")}}]}];var tc={contextmenu:t=>{let e=null;ut.ipcMain.on("contextmenu",async(r,n)=>{let s=n.map(i=>({label:i.label,click:()=>{r.reply("contextmenu-click",i.clickId)}}));e=ut.Menu.buildFromTemplate(s)}),ut.ipcMain.handle("contextmenu-popup",async()=>{e!=null&&e.popup()})},getPath:t=>{ut.ipcMain.handle("get-path",async(e,...r)=>ut.app.getPath(r[0]))},registerApplicationMenu:t=>{let e=ut.Menu.buildFromTemplate(ec);ut.Menu.setApplicationMenu(e)}},rc=t=>{for(let e of Object.keys(tc))tc[e](t)};var jh=ti(qh()),bw=Ch.default?"http://localhost:3000":"dummyUrl",Rw=()=>{let t=new Bs.BrowserWindow({width:1024,height:690,webPreferences:{preload:Dh.default.join(__dirname,"preload.js"),nodeIntegration:!0,contextIsolation:!1}});jh.default.initRenderer(),rc(t),t.loadURL(bw)};Bs.app.whenReady().then(()=>{Rw()});
